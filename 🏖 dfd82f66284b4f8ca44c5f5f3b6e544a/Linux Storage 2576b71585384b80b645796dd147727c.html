<html><head><script src="../embed-sub.js" defer></script><link rel="stylesheet" href="../notion-mainstyle.css" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Linux Storage</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: none;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
}

.simple-table-header {
	background: rgb(247, 246, 243);
	color: black;
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="2576b715-8538-4b80-b645-796dd147727c" class="page sans"><header><div class="page-header-icon undefined"><img class="icon" src="Web%20encryption%205e0ae8625fa4497f9dd074c97b27ba34/kuber.png"/></div><h1 class="page-title">Linux Storage</h1></header><div class="page-body"><h1 id="33659163-af56-460a-973e-ed7b5b1ccbea" class="">목차</h1><ul id="6a736135-5a46-49aa-ae4e-ba1f0fc745ba" class="bulleted-list"><li style="list-style-type:disc">파티셔닝(gdisk, parted)</li></ul><ul id="277b37d1-babc-47b4-ad95-342c66c0d85d" class="bulleted-list"><li style="list-style-type:disc">파일시스템</li></ul><ul id="b13e1ec5-89b5-4769-867e-4e518f0b5a28" class="bulleted-list"><li style="list-style-type:disc">마운트(수동, 영구)</li></ul><ul id="6f3b4fed-b188-4f8c-8b04-d9001b97fffd" class="bulleted-list"><li style="list-style-type:disc">스왑</li></ul><ul id="4f3d0d03-9ac9-46d8-95f4-185cc63c08d8" class="bulleted-list"><li style="list-style-type:disc">논리 볼륨</li></ul><p id="0ac16a6a-3bd6-4b26-a674-70249b69630a" class="">
</p><p id="e149baac-9309-4f70-893e-9badffd92050" class="">
</p><h1 id="d2f7e825-9770-4c62-95b0-443f23574f58" class="">Sector</h1><ul id="7d5db42d-535d-46e7-8f2b-b178ebae1935" class="bulleted-list"><li style="list-style-type:disc">구간을 의미(용량과는 다름)</li></ul><p id="558caabd-b798-4025-95d2-1ddbce5dca61" class="">
</p><p id="15251e54-223d-425c-ab78-1f3960643aeb" class="">
</p><h1 id="185d8c03-be9a-4fdf-abde-2bca9f403f7a" class="">gdisk</h1><p id="25a04371-aae2-468c-bd8d-c4f0ffab6994" class=""><code>gdisk /dev/sdb</code></p><ul id="45b86fce-dc30-448d-b997-0e2821125fec" class="bulleted-list"><li style="list-style-type:disc">주요 옵션<ul id="f7f72101-4f68-4cbd-9eb4-13c41d9325cb" class="bulleted-list"><li style="list-style-type:circle">n : 파티션 생성</li></ul><ul id="bc62e700-8ef6-445d-8b49-e811b6721c47" class="bulleted-list"><li style="list-style-type:circle">p : 파티션 정보 확인</li></ul><ul id="20276dfa-77af-484d-840f-2f49e3a1b318" class="bulleted-list"><li style="list-style-type:circle">d : 파티션 제거</li></ul><ul id="04ed30d0-34f1-434a-8ef8-840af8d49375" class="bulleted-list"><li style="list-style-type:circle">w : 저장</li></ul><ul id="385f98fb-27ea-409f-b543-dc8f6da41014" class="bulleted-list"><li style="list-style-type:circle">q : 종료</li></ul></li></ul><pre id="b148d977-27d8-451a-a77a-dc8ed677abd1" class="code code-wrap"><code>Command (? for help): n
Partition number (1-128, default 1): 1
First sector (34-6291422, default = 2048) or {+-}size{KMGTP}: 2048
Last sector (2048-6291422, default = 6291422) or {+-}size{KMGTP}: 1G
Current type is &#x27;Linux filesystem&#x27;
Hex code or GUID (L to show codes, Enter = 8300): 8300</code></pre><p id="1fbfc2d6-a8b4-4f43-8846-6a9a73ca85b2" class="">
</p><ul id="7d8aea98-eaff-4dcd-a30a-1f99fd8d7625" class="bulleted-list"><li style="list-style-type:disc">처음 섹터에서 지정한 용량만큼 추가로 파티셔닝 진행</li></ul><ul id="be10f686-6bd5-449b-837e-0b16ba6c5d50" class="bulleted-list"><li style="list-style-type:disc">Hex code는 파티션의 의도된 목적을 식별하기 위해 사용</li></ul><ul id="419cf015-afa0-48fb-9387-9e27f925fa42" class="bulleted-list"><li style="list-style-type:disc">파티셔닝을 완료한 후 저장(<code>w</code>) 후 종료(<code>q</code>)</li></ul><ul id="5e041f38-91a6-43c3-b66a-1d112584ad60" class="bulleted-list"><li style="list-style-type:disc">명령 입력줄에서 파티션 적용 : <code>udevadm settle</code></li></ul><p id="6089de3f-4670-47e7-9628-022fd41fe432" class="">
</p><p id="df213db6-90bf-480a-aaa3-f5c3d04cb95a" class="">
</p><h1 id="c2d01686-46fc-424b-8710-74b179ff1677" class="">parted</h1><ul id="3242b6ef-3e12-443a-af62-d1c684cb3cb2" class="bulleted-list"><li style="list-style-type:disc">MBR, GPT 방식 파티셔닝</li></ul><ul id="09a52f4e-58bb-4cbd-90ac-593a1db69935" class="bulleted-list"><li style="list-style-type:disc">주로 사용하는 옵션(<code>parted</code> 명령어와 함께 사용)<ul id="a5e89602-f670-4053-b7a6-abec2cd1cafb" class="bulleted-list"><li style="list-style-type:circle">l : 디스크 장치의 정보와 파티션 정보 출력</li></ul></li></ul><p id="b156546c-e0a0-4035-bba2-2b0141c10902" class="">
</p><h3 id="a3cfc5c1-a434-4ac6-a855-ba1fc508a26c" class="">parted 파티셔닝 방법</h3><p id="1a783ad3-f82d-48b6-987b-8347c571f12d" class=""><code>parted /dev/sdb</code></p><pre id="d363c163-1c1d-4070-a2ee-71f17f122762" class="code code-wrap"><code>(parted) print  # 파티셔닝 정보 확인

(parted) help mklabel
&#x27;&#x27;&#x27;
- 파티셔닝 방식 종류 확인
    - msdos : mbr
    - gpt
&#x27;&#x27;&#x27;

(parted) mklabel
New disk label type? msdos
Warning: The existing disk label on /dev/sdb will be destroyed and all data
on this disk will be lost. Do you want to continue?
Yes/No? yes

(parted) mkpart
Partition type?  primary/extended? p
File system type?  [ext2]?
Start? 0%
End? 10%

# 퍼센트 단위로도 처음 주소와 끝 주소를 지정할 수 있음
# 처음 일정 부분은 필수 영역이므로 시작 주소 값이 0부터 시작하지 않음


(parted) mkpart
Partition type?  primary/extended? p
File system type?  [ext2]?
Start? 10%
End? 1G # 끝지점을 정확하게 입력하는 것도 가능(End)

(parted) mkpart
Partition type?  primary/extended? p
File system type?  [ext2]?
Start? 1000MB
End? 2G


# print로 끝지점을 확인한 후 다음 파티셔닝 작업에서 시작지점을 정확하게 입력할 수 있음

(parted) q

# 파티셔닝 완료 후 종료(저장 필요 X)</code></pre><p id="4aaa3156-e969-469d-bb97-611515a018b5" class=""><code>udevadm settle</code> : 적용</p><p id="f919620a-d748-4bae-be45-ba8309f9d628" class="">
</p><h3 id="86a0f11b-f518-462d-b196-d127b71ff6f4" class="">파티션 제거</h3><p id="7d2e2578-0ab3-4890-a910-11c17798beb3" class=""><code>(parted) rm [num]</code></p><ul id="21be034a-e54e-4ceb-b86e-5c264715345f" class="bulleted-list"><li style="list-style-type:disc">먼저 print로 파티션 정보를 확인한 후 제거</li></ul><ul id="eb5b439f-15cb-41ea-b58d-558e266cfd85" class="bulleted-list"><li style="list-style-type:disc">제거 후에 적용 필수</li></ul><pre id="d72b0eff-80b9-466d-8de8-d44c8a658f3d" class="code code-wrap"><code>(parted) p                                                                
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sdb: 3221MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start   End     Size   Type     File system     Flags
 1      1049kB  322MB   321MB  primary  xfs
 2      322MB   1000MB  678MB  primary  ext2
 3      1000MB  2000MB  999MB  primary  linux-swap(v1)
 4      2000MB  2500MB  500MB  primary

(parted) rm 4                                                             
(parted) p                                                                
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sdb: 3221MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start   End     Size   Type     File system     Flags
 1      1049kB  322MB   321MB  primary  xfs
 2      322MB   1000MB  678MB  primary  ext2
 3      1000MB  2000MB  999MB  primary  linux-swap(v1)</code></pre><p id="f41e481b-8ac7-4c72-963c-a412e22dccc3" class="">
</p><p id="f7294e28-5c2b-4e97-a7a3-e1b227718267" class="">
</p><h1 id="2a0d1406-582c-4c0c-8c30-91b50c3c7405" class="">파일 시스템</h1><ul id="8ad7261c-86ef-4f1f-90e7-e352948bde41" class="bulleted-list"><li style="list-style-type:disc">해당 저장공간에서 작업할 때 적용되는 옵션들을 설정해두는 것
(ex. 공유, 압축, 작업 설정 등)</li></ul><ul id="a0967ac2-5194-4ab9-a4f5-634c8c048ce7" class="bulleted-list"><li style="list-style-type:disc">종류<ul id="4c34e37e-eb9e-4a49-9165-d334f098f1eb" class="bulleted-list"><li style="list-style-type:circle">xfs : 리눅스에서 보통 사용하는 방식</li></ul><ul id="11419ab2-a4d6-43a3-aa3b-aae9358a19ee" class="bulleted-list"><li style="list-style-type:circle">ext : 리눅스 초기에 사용하기 위해 만들어진 확장 파일 시스템</li></ul><ul id="7eb8c69c-d32f-4aa0-b5d2-49ba800b4004" class="bulleted-list"><li style="list-style-type:circle">fat : 초기 윈도우 용으로 개발된 파일시스템<ul id="7f7af07e-9c8a-42cd-a0d6-ffb6f235451a" class="bulleted-list"><li style="list-style-type:square">현재 USB 등 이동식 저장장치에 많이 사용</li></ul></li></ul><ul id="7998ff98-8459-49ac-af42-da1e271121c1" class="bulleted-list"><li style="list-style-type:circle">ntfs : 현재 윈도우에서 사용하는 파일시스템</li></ul></li></ul><p id="64a1d8e7-778f-4826-9d42-78d692c7c79f" class="">
</p><p id="5de74368-fd1e-4c40-be3d-a1ad02407986" class="">파일시스템 종류 확인</p><p id="61224093-f04a-446a-bf8c-acbd0ccbe54d" class=""><code>ls -l /usr/sbin/mkfs*</code></p><pre id="18ab3d41-6af6-4622-8bca-539e08caf904" class="code code-wrap"><code>[root@servera ~]# ls /usr/sbin/mkfs*
/usr/sbin/mkfs        /usr/sbin/mkfs.cramfs  /usr/sbin/mkfs.ext3  /usr/sbin/mkfs.minix
/usr/sbin/mkfs.btrfs  /usr/sbin/mkfs.ext2    /usr/sbin/mkfs.ext4  /usr/sbin/mkfs.xfs</code></pre><p id="c0296c38-769e-4797-ad8d-eb755d27b12b" class="">
</p><p id="a94250c0-6684-4cf2-a234-7551d53b0ee8" class="">sdb4에 xfs파일시스템 적용 : <code>mkfs.xfs /dev/sdb1</code></p><p id="d02d15fe-6b56-4d2f-8e1b-efb0510863f2" class="">파일시스템 적용 확인 : <code>lsblk --fs</code></p><pre id="c8f69e54-ef2f-419a-b35f-52fe47442a2c" class="code code-wrap"><code>sdb                                                                      
├─sdb1          xfs               8a6bf440-900a-4d99-bdbb-f7dec3c3ee43   /mnt/data
├─sdb2          ext2              84939f48-6084-4fec-8f93-79a86df62e09   
├─sdb3          swap              0994c9b2-a2a5-42ea-9ee6-357c34274b32   [SWAP]
└─sdb4          xfs               badc49be-1830-47f8-906b-a01b09fb057a</code></pre><p id="5bcfd54b-ef57-4659-b975-15c45f56eeb0" class="">
</p><h1 id="4df5670f-d7c3-488f-b2ee-16b0a594bd40" class="">마운트</h1><ul id="7d535224-ebfe-462d-9116-817c6b626fae" class="bulleted-list"><li style="list-style-type:disc">스토리지에 직접 접근 불가</li></ul><ul id="a0c4f65c-fb32-4991-a28f-7bbb3543621c" class="bulleted-list"><li style="list-style-type:disc">파일 시스템을 스토리지나 디렉토리에 적용</li></ul><ul id="c9af2906-b46a-4a46-aa52-a563434d7c16" class="bulleted-list"><li style="list-style-type:disc">스토리지를 디렉토리에 얹는 개념
<code>mount [마운트 대상] [마운트 포인트]</code></li></ul><p id="e5771619-f016-4c6a-9dfe-2d4eb3fe9f95" class="">
</p><p id="6cd13d92-f86b-4f22-ab09-b25dd14b6305" class="">
</p><p id="abc0d1b0-592e-4735-99a7-6642ed2b26f4" class="">마운트 실습 전 선행 작업(디렉토리가 없을 시)</p><ul id="5bef949c-1a56-463d-a029-ec07d73ba6de" class="bulleted-list"><li style="list-style-type:disc"><code>mkdir /mnt/data</code> : <code>/mnt/data </code>  → 마운트할 디렉토리</li></ul><p id="0fac0c3b-9af1-4487-b976-6cfa6ebb96aa" class="">
</p><h2 id="ba564648-cd59-4a7d-ad87-d596a155ee39" class="">수동으로 <code>sdb4</code>을 <code>/mnt/data4</code>마운트</h2><ul id="b90be34a-053a-416b-ba5b-7f2782f64438" class="bulleted-list"><li style="list-style-type:disc"><code>mount /dev/sdb4 /mnt/data4</code></li></ul><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="80b94222-908f-4f74-a0c8-c3c81f14fb78"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">재부팅 시 자동으로 마운트 해제된다</div></figure><p id="45f0a9de-e7c8-49d9-b906-f96b1fd6db3b" class="">
</p><p id="287d148f-a9dd-47ba-9829-7b9d3a63471c" class="">마운트 확인 방법(2가지)</p><p id="4b32f47c-ce0b-40e4-8b09-e675545fc34c" class=""><code>lsblk</code></p><pre id="d5ea6064-df64-44fb-b582-496b443b45c8" class="code code-wrap"><code>sdb               8:16   0    3G  0 disk 
├─sdb1            8:17   0  306M  0 part /mnt/data
├─sdb2            8:18   0  647M  0 part 
├─sdb3            8:19   0  953M  0 part [SWAP]
└─sdb4            8:20   0  954M  0 part /mnt/data4</code></pre><p id="125123b1-8e34-4a66-a9a2-1882bf7dda7f" class=""><code>mount</code></p><ul id="351b6a86-6ab3-4515-8e9a-cefb5ba9b762" class="bulleted-list"><li style="list-style-type:disc"><code>mount | grep sdb1</code><pre id="0e832cea-d62b-4259-8088-027509cc54bb" class="code code-wrap"><code>/dev/sdb4 on /mnt/data4 type xfs (rw,relatime,seclabel,attr2,inode64,noquota)</code></pre></li></ul><p id="bc11c9da-89a1-4413-a993-71da23366832" class="">
</p><h2 id="5cc27931-4ae8-4aa7-8306-ccf724d41e1c" class="">영속적으로 파일 시스템을 마운트</h2><p id="a347cce2-0cb7-46b4-bfef-65bd72f29f58" class=""><code>/etc/fstab</code> : 마운트 영구 설정 파일</p><p id="f9d6dc98-fce4-4d81-9ee0-ab11601f4084" class=""><code>vim /etc/fstab</code> : 마운트 파일 확인</p><p id="5334bf6d-e5ef-4eba-9bb6-36853f1c95dd" class=""><code>/dev/sdb4 /mnt/data4 xfs defaults 0 0</code> ← 마지막줄에 추가로 입력</p><h3 id="63e001c7-38d8-4978-b55f-6d345c21386d" class="">순서</h3><ol type="1" id="da1342b7-af6a-4727-83e9-2c7025f719d2" class="numbered-list" start="1"><li>장치 이름<p id="1793335e-10a0-4ac8-9fd9-75fc7846bbd2" class="">잘못 설정 시 부팅 안 됨</p></li></ol><ol type="1" id="e29ec5f6-638e-4ac4-843b-8c27415f7eab" class="numbered-list" start="2"><li>마운트 포인트<p id="e8a21f2c-c4da-4e22-9625-3e1e239040d9" class="">잘못 설정 시 부팅 안 됨</p></li></ol><ol type="1" id="e091c13d-bd42-4c0b-9052-d686969b38dc" class="numbered-list" start="3"><li>파일 시스템 종류 설정<p id="6a70d0f6-9502-476c-b679-a774be60f538" class="">잘못 설정 시 부팅 안 됨</p></li></ol><ol type="1" id="95982d29-6384-4f5c-934f-4f62ee638033" class="numbered-list" start="4"><li>옵션<p id="12035e20-e7fd-4e11-baa3-fcd74d9a9c6b" class="">잘못 설정 시 부팅 안 됨</p><p id="0f7a3ee4-71b9-4a60-b93d-dfd2c0430fc8" class="">mount 매뉴얼 페이지에서 옵션 확인</p></li></ol><ol type="1" id="050ea6fd-af32-4b40-82bf-8606f11754d3" class="numbered-list" start="5"><li>덤프 생성<p id="e59839ad-5f9c-4b1b-b18f-0fde921daac0" class="">문제 발생 시 어떠한 문제로 마운트가 해제되었는지를 기록</p></li></ol><ol type="1" id="0664d44f-7163-442b-88cc-7af14f6e98ca" class="numbered-list" start="6"><li>fsck<p id="507350d0-fe7d-4dce-afdf-96bc132b0118" class="">마운트하기 전 파일시스템 체크</p><p id="32e17961-ee2e-4da3-8861-0ec87aef1264" class="">숫자는 실행 순서를 의미</p><p id="df7442fd-a831-4850-8ea3-7e39dfd0a594" class="">XFS 파일 시스템의 경우 해당 필드를 0으로 설정</p><p id="7c0e290f-0778-4ed0-b755-ced5a9d980d3" class="">ext4 파일 시스템의 경우 루트 파일 시스템은 1로 설정</p><p id="52f3adc6-5c3e-4041-bfd1-84ae8bf34d76" class="">다른 ext4 파일 시스템은 2로 설정</p><p id="e7acb419-0ac8-4e6a-bf19-e7d5075ba126" class="">
</p></li></ol><p id="f488372c-531a-4a25-a8cf-aeecd887c4cd" class="">sdb 스토리지를 sdb1, 2, 3, 4, 5, 6 으로 나눴을 경우</p><ul id="97efe957-c862-4573-b30b-57e851d78fb2" class="bulleted-list"><li style="list-style-type:disc">물리적인 분리<p id="dee3be1f-7a97-49f9-828c-224899501472" class="">sdb1, sdb2 합쳐서 논리적으로 묶을 수 있음</p></li></ul><p id="62e3af33-0a5c-437d-bbdc-6054a8429880" class=""><code>/dev/mapper</code> :논리적으로 연결되어 있는 볼륨들이 위치하는 디렉토리</p><p id="5c443b37-8870-49cd-b10e-e5d78749db09" class="">
</p><h2 id="83d5c44a-1c9d-46ae-9061-28fcb44454cb" class="">스왑 영역 관리 : <code>SWAP</code></h2><figure id="31e32c0b-1c86-4784-adf6-0f7a2d877c07" class="image"><a href="Linux%20Storage%202576b71585384b80b645796dd147727c/%E1%84%89%E1%85%B3%E1%84%8B%E1%85%AA%E1%86%B8.png"><img style="width:1680px" src="Linux%20Storage%202576b71585384b80b645796dd147727c/%E1%84%89%E1%85%B3%E1%84%8B%E1%85%AA%E1%86%B8.png"/></a></figure><p id="9090c421-b3f4-44b9-b8d0-eb28e206ec7b" class="">디스크를 임시로 메모리처럼 사용하는 것</p><p id="9f83b33c-7e6e-4b1f-b167-8ad6ea4996ba" class="">성능 때문에 스왑 공간을 구성</p><p id="8868dac8-589c-4c4f-a200-5ce3a66da21e" class="">스왑 공간</p><p id="d825d03d-a917-409c-8ae8-730792413639" class="">다른 새로운 프로세스들을 빠르게 실행할 수 있도록 이전 프로세스의 상태를 저장해두는 공간</p><p id="2abc2ffd-d475-40ef-8c2d-0e3b78b645ae" class="">메모리를 효율적으로 사용 가능</p><p id="21060067-4f30-499f-8efb-81ecc58c8e6f" class="">파티션 중 하나를 스왑 공간으로 사용하는 경우가 많음</p><p id="7b43fa7b-b719-4de8-8547-6ba9a3df14be" class="">MBR의 경우 logical 공간에 설정할 수 있음(primary 공간에도 설정 가능)</p><p id="e37aebc6-de63-454c-b574-3cc71024c5e8" class="">
</p><p id="e0554992-e14e-480b-b3c8-9dfa610dd846" class="">초기상태</p><pre id="bf95ff2d-f538-4e2c-a9b3-b8557cd778e6" class="code code-wrap"><code>Number  Start   End     Size    Type     File system     Flags
 1      1049kB  322MB   321MB   primary  xfs
 2      322MB   1000MB  678MB   primary  ext2
 3      1000MB  2000MB  999MB   primary  linux-swap(v1)
 4      2000MB  3000MB  1000MB  primary  xfs</code></pre><p id="5b5bcb0c-d71f-413d-bfbb-a164e9f6c707" class="">
</p><p id="9fd1f00e-2ed2-402f-ab24-4b9bd554b50b" class="">장치에 스왑 공간 적용 : <code>mkswap /dev/sdb2</code></p><pre id="b15942fc-d2d0-43e9-b1fc-9ac3f990914a" class="code code-wrap"><code>[root@servera ~]# mkswap /dev/sdb2
mkswap: /dev/sdb2: warning: wiping old ext2 signature.
Setting up swapspace version 1, size = 662524 KiB
no label, UUID=835b34ff-322c-47b3-94b7-6fa7b6ddc06e</code></pre><p id="4a20086a-0e23-48be-99f1-809e87ce023c" class="">
</p><p id="91fbee40-3858-4ed6-866b-697c7958f56c" class="">스왑 공간 활성화 전 메모리 공간 확인 : <code>free -h</code></p><pre id="5c7a16ac-652d-4598-9c4a-83428a679aae" class="code code-wrap"><code>[root@servera ~]# free -h
              total        used        free      shared  buff/cache   available
Mem:           990M        183M        323M        6.9M        483M        648M
Swap:          1.7G          0B        1.7G</code></pre><p id="5ed6f40b-97de-4b73-b19a-881b53310760" class="">
</p><p id="c27e7375-5070-4e15-868c-c55626465527" class="">스왑 공간 활성화 : <code>swapon /dev/sdb2</code></p><p id="9aa1eb63-2613-4cda-b5f1-c9ce9bf747cf" class="">스왑 공간 활성화 후 메모리 공간 확인 : <code>free -h</code></p><pre id="26e020d9-ac9a-44cd-a749-ef3403d9fa67" class="code code-wrap"><code>[root@servera ~]# swapon /dev/sdb2
[root@servera ~]# free -h
              total        used        free      shared  buff/cache   available
Mem:           990M        184M        323M        6.9M        483M        647M
Swap:          2.4G          0B        2.4G # 0.7G 늘어났다</code></pre><p id="eab67a90-b0ce-444f-9847-ccd292c55027" class="">
</p><p id="0a62a2d3-87d6-42d3-bb0a-17cfae05fa4d" class="">스왑 공간 UUID 확인 : <code>blkid | grep sdb3</code></p><pre id="0decc44b-ba03-4c8c-9a33-1ae3ce32bbb1" class="code code-wrap"><code>[root@servera ~]# blkid |grep sdb2
/dev/sdb2: UUID=&quot;835b34ff-322c-47b3-94b7-6fa7b6ddc06e&quot; TYPE=&quot;swap&quot;</code></pre><p id="7356552e-c8e6-41f2-a13b-9f29c3b25d00" class="">
</p><p id="b4926ecc-3dee-4470-adc2-a96b76b31988" class="">
</p><h3 id="91809545-342b-4f87-9304-2483a2d80e85" class="">스왑 공간 영구 설정(UUID)</h3><p id="fb509e13-5480-49aa-9cd1-0762dc2c4787" class=""><code>vim /etc/fstab</code></p><p id="51541fe2-fefb-422e-b59d-2bd11c6d10d7" class="">
</p><p id="2ff15d72-7f8d-48b9-8f1d-fa976a082cb2" class="">UUID를 이용하여 설정</p><pre id="08556fc1-975e-4926-bcc5-0c6d53a6562f" class="code code-wrap"><code>...
UUID=835b34ff-322c-47b3-94b7-6fa7b6ddc06e swap swap defaults 0 0</code></pre><p id="42666ed7-9a5d-42ea-a4a0-8e38991af502" class="">
</p><h3 id="0a27f3ee-7551-4402-b705-597a12abd25d" class="">fstab 잘못 설정한 경우</h3><p id="7d138801-4fea-414b-a7b6-19e2760ba24b" class="">1 . 첫 커널 선택 <code>e</code> 버튼 누르기</p><p id="73062fc5-c2dc-4a26-87b5-fe503ef89c9c" class="">2 . 문장 처음에 linux 써있는 부분 마지막에 커서 옮겨놓기</p><p id="c537590c-976e-4ed7-949c-63ae96ca20ef" class="">3 . <code>systemd.unit=emergency.target</code> 작성</p><p id="67d90286-16bd-4e23-bd09-a148cfdb807f" class=""><code>ctrl</code> + <code>x</code></p><p id="905ae8fc-e8fb-4907-8bda-5b27b2a66bf3" class="">4 . 루트 비밀번호 입력</p><p id="aae1c41a-8da4-46d7-bbe0-cfa7a4c5a2a5" class="">5 . <code>vim /etc/fstab</code> : 수정</p><p id="8c8cf388-e489-4199-b650-d72c4aebc705" class="">6 . <code>reboot</code></p><p id="622fb840-ba84-4f9e-b574-2e9693ecea61" class=""><code>/etc/fstab</code> 과정에서 <code>/boot</code> 마운트 잘못되서 안 켜지는 경우</p><p id="9605db98-e4da-4051-b56d-b76cc4b47f61" class="">
</p><p id="6afc7d19-a8be-4f12-ad65-59aefad297a7" class="">
</p><p id="3c33b5e8-28ee-4dc7-92b6-710ca533ca69" class="">
</p><h1 id="17c951c2-223e-49d6-b6a1-1d0ed6e1fdb1" class="">논리 볼륨</h1><p id="a2aa272f-f3cc-4e3c-9be7-bc48d454583d" class="">하나의 공간 안에서 파티션보다 스토리지를 효율적으로 사용하기 위함</p><figure id="9580644f-3394-4c25-8517-46a7b0282a2d" class="image"><a href="Linux%20Storage%202576b71585384b80b645796dd147727c/%E1%84%82%E1%85%A9%E1%86%AB%E1%84%85%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AF%E1%84%85%E1%85%B2%E1%86%B7.png"><img style="width:1765px" src="Linux%20Storage%202576b71585384b80b645796dd147727c/%E1%84%82%E1%85%A9%E1%86%AB%E1%84%85%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AF%E1%84%85%E1%85%B2%E1%86%B7.png"/></a></figure><p id="1321f8fa-bebb-4ded-a6cc-3b56af7f98e7" class="">
물리장치(디스크)		물리장치(디스크)		물리장치(디스크)
  PV(물리 볼륨)		          PV(물리 볼륨)	                	PV(물리 볼륨)</p><p id="3a76a257-fbcf-4373-be3f-3f9f3be948dd" class="">		              |

		     VG(볼륨 그룹)

		              |

	   논리 볼륨	   논리 볼륨
               LV                      LV</p><p id="2e43146d-ac4f-4cb8-88bf-dc09f8f5bb51" class="">
</p><p id="eaa5a28b-23d2-4fd9-8025-58855f966daa" class="">
</p><p id="0ece144d-9b0e-434b-b1fd-be7ee10b67c7" class="">물리 장치(디스크) : 데이터를 저장하는데 사용하는 스토리지 장치
PV(물리 볼륨) : LVM을 사용하기 위한 기본 &quot;물리&quot; 스토리지</p><ul id="1f8aa39b-7199-4f88-8245-272a9419be6a" class="bulleted-list"><li style="list-style-type:disc">PE(Pysical Extent) : PV의 최소 단위(약 4MB)</li></ul><ul id="00fa63ee-5d80-4627-9e5b-2a1d93c622d7" class="bulleted-list"><li style="list-style-type:disc">LE(Logical Extent) 와 1대1 매핑 =&gt; PE와 LE 사이즈가 동일</li></ul><ul id="3ef6116f-d5e9-4244-8119-2bdeaff02ea2" class="bulleted-list"><li style="list-style-type:disc">VG(볼륨 그룹) : 하나 이상의 물리 볼륨으로 구성된 스토리지(PV의 묶음)</li></ul><ul id="53642e65-7289-4c7e-8f15-e471c9240318" class="bulleted-list"><li style="list-style-type:disc">LV(논리 볼륨) : VG를 나눈 공간</li></ul><ul id="202a30a6-afb8-4029-98d3-7dfce04201bb" class="bulleted-list"><li style="list-style-type:disc">LE 는 LV 최소 단위(약 4MB)<ul id="f5f48cdc-d48c-437a-9fd8-856ee16bfefb" class="bulleted-list"><li style="list-style-type:circle">PE 와 1대1 매핑</li></ul></li></ul><p id="f7279e3f-52b0-43db-8ede-d9dde1ed5b42" class="">
</p><p id="ff3074c7-f6eb-4045-9658-bec8e5b1dede" class="">논리볼륨 만들기
sdc 파티션 두 개 생성(500MB, 500MB)
sdd 파티션 두 개 생성(500MB, 500MB)</p><p id="d34a50ee-b2ce-4ba7-a9f2-b9ffc1ba5496" class="">
</p><p id="3b3cff68-5dde-485d-83ff-77a9f19f677d" class="">사용할 물리 장치 결정(<code>lsblk</code>)</p><p id="538919bd-654c-4914-909d-ad499fc6e05d" class="">
</p><p id="536c5453-7335-4c47-8a57-14c566d135d1" class="">PV 만들기 : <code>pvcreate /dev/sdc1 /dev/sdd1</code></p><p id="d63c4ede-865c-40fa-94f0-708eec73dd57" class="">
</p><p id="9c83ae9a-1484-4925-acab-c12252984f2c" class="">PV 생성 확인 : <code>pvdisplay</code></p><pre id="e24bd920-564c-425c-97ab-b3392cd72847" class="code code-wrap"><code>--- Physical volume ---
  PV Name               /dev/sdc1
  VG Name               vg01
  PV Size               476.00 MiB / not usable 4.00 MiB
  Allocatable           yes (but full)
  PE Size               4.00 MiB
  Total PE              118
  Free PE               0
  Allocated PE          118
  PV UUID               NLbI0m-0m6f-HFPR-sBWV-w2H0-8i6M-NpSlyl
   
  --- Physical volume ---
  PV Name               /dev/sdd1
  VG Name               vg01
  PV Size               476.00 MiB / not usable 4.00 MiB
  Allocatable           yes 
  PE Size               4.00 MiB
  Total PE              118
  Free PE               86
  Allocated PE          32
  PV UUID               5tSDei-20Im-c6YK-jVaA-c7e0-Y96D-UjkUdP</code></pre><p id="4bc17f8f-265b-4bb1-b493-1ef7e3689f2c" class="">VG 만들기 : <code>vgcreate vg01 /dev/sdc1 /dev/sdd1</code></p><p id="d592efe6-a0f4-4718-a6b9-4aabbafe6341" class="">
</p><p id="dd9e7917-ce4a-4d20-9487-1fee12a14a61" class="">VG 생성 확인 :<code>vgdisplay</code></p><p id="c92dc54e-7d26-481b-aac3-825174f635fa" class="">
</p><p id="56db58f5-6858-4ed8-bbdb-96a28942a88b" class="">LV 만들기</p><p id="657c99b5-79e9-4971-86ff-b10903b472c3" class=""><code>lvcreate -n lv01 -L 100M vg01</code></p><p id="6a77da80-44ca-4df9-b8a6-ccd7cff7a325" class=""><code>lvcreate -n lv02 -l 50 vg01</code><div class="indented"><ul id="b97024ad-3109-4080-91a8-fd742d1a6d11" class="bulleted-list"><li style="list-style-type:disc"><code>L</code> 옵션 : 논리 볼륨의 크기를 용량 단위로 지정</li></ul><ul id="cc46339d-ef2c-4011-855c-8de40b5fa564" class="bulleted-list"><li style="list-style-type:disc"><code>l</code> 옵션 : PE 사이즈로 용량을 지정<ul id="b812f60c-881c-4af3-8ee2-ff45a9f3d0ee" class="bulleted-list"><li style="list-style-type:circle">4MiB x 50 = 200MiB</li></ul></li></ul></div></p><p id="dbe340c0-8741-41ca-b881-4dd904cbcf15" class="">
</p><p id="0e8d49cd-c460-4dbe-a53a-f37b12203835" class="">LV 생성 확인</p><p id="0aa5c2b2-79ae-4669-8d07-627851e81b64" class=""><code>lvdisplay</code></p><pre id="94e1c194-ac9e-4beb-b793-69ef452c6294" class="code code-wrap"><code>--- Logical volume ---
  LV Path                /dev/vg01/lv01
  LV Name                lv01
  VG Name                vg01
  LV UUID                FSY33b-SUR9-cH9E-8VtL-g0aR-KQxw-HRkfYq
  LV Write Access        read/write
  LV Creation host, time servera, 2022-01-19 16:39:27 +0900
  LV Status              available
  # open                 0
  LV Size                100.00 MiB
  Current LE             100
  Segments               3
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     8192
  Block device           253:2
   
  --- Logical volume ---
  LV Path                /dev/vg01/lv02
  LV Name                lv02
  VG Name                vg01
  LV UUID                bud2vF-2z79-vkyZ-Wot6-NqIi-mElt-vZq62O
  LV Write Access        read/write
  LV Creation host, time servera, 2022-01-19 16:39:37 +0900
  LV Status              available
  # open                 0
  LV Size                200.00 MiB
  Current LE             50
  Segments               2
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     8192
  Block device           253:3</code></pre><p id="377b32d8-ab86-4f92-90bf-6431dcfecfb5" class="">
</p><p id="f0400cf7-adcc-47ba-a31e-fbc0a2242ceb" class="">논리 볼륨 파일 시스템 적용</p><p id="84ce559e-6fa9-4bf4-83a7-0d2b1d16da5a" class=""><code>mkfs -t xfs /dev/vg01/lv01</code></p><p id="5dcc3f3f-beaf-44c1-93d2-dc3982f426b7" class="">
</p><h3 id="65598f9a-75b8-45e0-8db8-26638942b5ac" class="">논리 볼륨 영구 마운트 설정</h3><p id="04385968-d8a3-4dfe-bd4d-84620e5d7ef5" class=""><code>mkdir /mnt/data3</code> :  마운트 디렉토리</p><p id="4993fbb8-27a0-498c-8596-63d69d43ab41" class=""><code>vim /etc/fstab</code></p><pre id="410cc8b7-235a-4689-b4b3-77e3b3f06db0" class="code code-wrap"><code>...
/dev/vg01/lv01 /mnt/data3 xfs defaults 0 0 # 추가</code></pre><p id="6a9361ec-2ded-48b9-b6fd-63fe50a95c04" class="">
</p><h3 id="b91b7daf-172d-42f7-8a3f-b189b5875f1a" class="">수동 마운트 설정</h3><p id="52d186d7-73a9-4b7b-b979-6a0b677af5c7" class=""><code>mount /dev/vg01/lv01 /mnt/data3</code></p><p id="64e60dbc-87ae-44fb-b200-7c435421aa6c" class="">영구 마운트 설정 후 수동 마운트 설정</p><p id="03b8742d-302f-4ca2-8c6b-472848cb0c4d" class="">수동 마운트 설정 후 영구 마운트 설정, 위 두 개가 순서가 바뀌어도 상관없음</p><p id="e3d11ecb-0497-4b4a-86fe-079ff444efc3" class="">
</p><p id="270c4e66-7e5c-44bf-93d4-2b38390c949a" class="">마운트 확인</p><p id="b600d10f-a3d9-4dec-99f2-26a37498c3f0" class=""><code>mount | grep lv01</code></p><p id="fdaf55ab-d2c0-43c7-bc0a-40979e561e83" class="">
</p><h3 id="bebdb39a-3a62-405f-be6d-b5991ab5b7b0" class="">논리 볼륨 제거</h3><p id="e8b663ee-bec3-4c66-beb2-de3f1a4a63bd" class="">논리 볼륨 만들기의 역순</p><p id="3e1a8a60-670a-4bae-afba-22e13db1ba73" class="">
</p><ol type="1" id="3b9612cb-c87f-4c6c-8f19-07b6fc505ded" class="numbered-list" start="1"><li>논리 볼륨 마운트 해제 : <code>umount /mnt/data3</code></li></ol><ol type="1" id="0e8716cd-2ee5-4924-a9c1-c95c75be423a" class="numbered-list" start="2"><li>논리 볼륨 설정 제거(lv 해당 줄 제거) : <code>vim /etc/fstab</code></li></ol><ol type="1" id="7b0a418d-bcbb-4943-91d0-8980422eefae" class="numbered-list" start="3"><li>논리 볼륨 제거 : <code>lvremove /dev/vg01/lv01</code></li></ol><ol type="1" id="bfa5d9a1-3f94-4d50-a831-afbbcbdce3a5" class="numbered-list" start="4"><li>볼륨 그룹 제거 : <code>vgremove vg01</code></li></ol><ol type="1" id="c6bd6d45-ab54-4459-8f58-25c49362864d" class="numbered-list" start="5"><li>물리 볼륨 해제 : <code>pvremove /dev/sdc1 /dev/sdd1</code></li></ol><p id="da45ac9c-c1bd-44ae-a242-9b6563dbcfb5" class=""> </p><h3 id="a54c22b4-7ccb-438d-842c-dd0297231ac0" class="">논리볼륨 확장</h3><p id="a794021f-a6b1-4696-98ad-e56cdebac7d4" class="">논리볼륨 만들기 진행 후 실습</p><p id="08a79996-bc60-4e0a-994f-cf5ec44efc53" class=""><code>lvextend -L +300M /dev/vg01/lv01</code></p><p id="d2eef6d3-4791-4dae-bec6-1968c8ee964d" class="">파일시스템 적용 전이라면?<div class="indented"><ol type="1" id="9a8b819b-518b-4ace-9a60-f54217e285fb" class="numbered-list" start="1"><li>확장 후 파일시스템 적용</li></ol><ol type="1" id="520c4226-1591-411b-a8f9-8065649df008" class="numbered-list" start="2"><li>마운트 진행해주면 됨</li></ol></div></p><p id="128b32f1-6eaf-4320-92ec-bc274d9c3fa1" class="">
</p><p id="e5f27c1b-501b-4b37-ac27-89f3ab9e32b7" class="">파일시스템 적용 후라면?</p><p id="9217f725-beb0-452e-bede-327b86d39cf3" class="">상황<div class="indented"><ul id="f054017d-d98a-4c0a-a874-3c7458cce3b0" class="bulleted-list"><li style="list-style-type:disc"><code>lvcreate -n lv02 -l 50 vg01</code></li></ul><ul id="8d6a0835-6ace-4ca7-aeb0-868e857855ff" class="bulleted-list"><li style="list-style-type:disc"><code>mkfs -t xfs /dev/vg01/lv02</code></li></ul><ul id="9585d35b-799a-4ea9-bd4d-3ecf9574956a" class="bulleted-list"><li style="list-style-type:disc"><code>mount /dev/vg01/lv02 /mnt/data3</code></li></ul><ul id="1d32209c-71cc-45af-8f9b-40c01d404cfe" class="bulleted-list"><li style="list-style-type:disc"><code>lvextend -L +100M /dev/vg01/lv02</code></li></ul></div></p><p id="e7f458ac-4fa2-4356-89b2-6d7d102303b5" class="">확장시 l 옵션 사용 가능</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="2267b8a5-8306-431c-9d15-96587bf00be2"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><code>xfs_growfs /mnt/data3</code></div></figure><ul id="ea041abd-0d6f-4f58-8e33-d1704dce64d2" class="bulleted-list"><li style="list-style-type:disc">논리 볼륨 확장 후 파일시스템을 반드시 재설정해줘야 함</li></ul><ul id="12eac354-9b9b-40ac-8a3d-0883ea73dde9" class="bulleted-list"><li style="list-style-type:disc">논리 볼륨 생성 -&gt; 파일 시스템 적용 -&gt; 마운트 -&gt; 논리 볼륨 확장 -&gt; 파일시스템 재설정
</li></ul><p id="4d9b38dc-1627-467c-b813-a3aebf523882" class="">
</p><p id="6023e62b-243d-46e4-baa1-bb8ca8c2b0d0" class="">
</p></div></article></body></html>