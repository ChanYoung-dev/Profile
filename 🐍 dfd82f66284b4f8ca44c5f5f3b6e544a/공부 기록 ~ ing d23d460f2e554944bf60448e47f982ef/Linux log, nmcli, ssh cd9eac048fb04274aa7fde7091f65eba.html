<html><head><script src="../../embed-sub.js" defer></script><link rel="stylesheet" href="../../notion-mainstyle.css" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Linux log, nmcli, ssh</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: none;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
}

.simple-table-header {
	background: rgb(247, 246, 243);
	color: black;
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="cd9eac04-8fb0-4274-aa7f-de7091f65eba" class="page sans"><header><div class="page-header-icon undefined"><img class="icon" src="../Linux%20Proxy%20dc5833c50c5444d7bf6d542d341c4750/kuber.png"/></div><h1 class="page-title">Linux log, nmcli, ssh</h1><table class="properties"><tbody><tr class="property-row property-row-created_time"><th><span class="icon property-icon"><svg viewBox="0 0 14 14" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.4);flex-shrink:0;-webkit-backface-visibility:hidden" class="typesCreatedAt"><path d="M6.98643729,14.0000972 C5.19579566,14.0000972 3.40419152,13.3106896 2.04245843,11.9323606 C-0.681017475,9.21200555 -0.680780251,4.76029539 2.04293482,2.04012507 C4.76664406,-0.68004331 9.22427509,-0.68004331 11.9480135,2.04013479 C13.272481,3.36277455 14,5.1330091 14,6.99552762 C14,8.87640182 13.2721894,10.6285043 11.9480135,11.9509302 C10.5679344,13.3105924 8.77756503,14.0000972 6.98643729,14.0000972 Z M10.2705296,7.00913883 L10.2705296,8.46099754 L10.2705296,8.65543362 L10.076181,8.65543362 L8.6543739,8.65543362 L5.72059514,8.65543362 L5.52619796,8.65543362 L5.52619796,8.46099754 L5.52619796,5.52541044 L5.52619796,3.37946773 L5.52619796,3.18502193 L5.72059514,3.18502193 L7.17253164,3.18502193 L7.36692883,3.18502193 L7.36692883,3.37946773 L7.36692883,6.81467358 L10.076181,6.81467358 L10.2705296,6.81467358 L10.2705296,7.00913883 Z M12.1601539,6.99552762 C12.1601539,5.61697497 11.6190112,4.32597154 10.6393933,3.34769528 C8.63253764,1.34336744 5.35197452,1.34061603 3.34153136,3.33944106 C3.33868273,3.34219247 3.33607716,3.34494388 3.33322852,3.34769528 C1.32397148,5.35459953 1.32372842,8.63641682 3.33322852,10.6433794 C5.34295224,12.6504489 8.62968901,12.6504489 10.6393933,10.6433794 C11.6190112,9.66506426 12.1601539,8.37408027 12.1601539,6.99552762 Z"></path></svg></span>생성일</th><td><time>@2022년 1월 14일 오후 6:15</time></td></tr><tr class="property-row property-row-multi_select"><th><span class="icon property-icon"><svg viewBox="0 0 14 14" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.4);flex-shrink:0;-webkit-backface-visibility:hidden" class="typesMultipleSelect"><path d="M4,3 C4,2.447715 4.447715,2 5,2 L12,2 C12.5523,2 13,2.447716 13,3 C13,3.55228 12.5523,4 12,4 L5,4 C4.447715,4 4,3.55228 4,3 Z M4,7 C4,6.447715 4.447715,6 5,6 L12,6 C12.5523,6 13,6.447716 13,7 C13,7.55228 12.5523,8 12,8 L5,8 C4.447715,8 4,7.55228 4,7 Z M4,11 C4,10.447715 4.447715,10 5,10 L12,10 C12.5523,10 13,10.447716 13,11 C13,11.55228 12.5523,12 12,12 L5,12 C4.447715,12 4,11.55228 4,11 Z M2,4 C1.44771525,4 1,3.55228475 1,3 C1,2.44771525 1.44771525,2 2,2 C2.55228475,2 3,2.44771525 3,3 C3,3.55228475 2.55228475,4 2,4 Z M2,8 C1.44771525,8 1,7.55228475 1,7 C1,6.44771525 1.44771525,6 2,6 C2.55228475,6 3,6.44771525 3,7 C3,7.55228475 2.55228475,8 2,8 Z M2,12 C1.44771525,12 1,11.5522847 1,11 C1,10.4477153 1.44771525,10 2,10 C2.55228475,10 3,10.4477153 3,11 C3,11.5522847 2.55228475,12 2,12 Z"></path></svg></span>태그</th><td><span class="selected-value select-value-color-default">Linux</span><span class="selected-value select-value-color-orange">Network</span></td></tr></tbody></table></header><div class="page-body"><h2 id="08baba55-e3bc-4a27-9ea3-de08b11efc53" class="">목차</h2><p id="304ef42e-8098-4e7d-a310-4a72d7961752" class="">1. 특수 권한 부여 방법
2. umask
3. 소유권 변경
4. ssh 원격 접속
5. 로그 관리
6. 네트워킹 관리</p><blockquote id="e8379dc2-136c-4fc8-8e5d-e27d2fe3f204" class="">vim 커맨드 모드에서 /[찾을 단어] 을 입력하면 검색 가능</blockquote><h1 id="e27a458f-a913-47ed-a58b-17bc46f944ad" class="">특수 권한 부여</h1><p id="93d77ddf-e301-4689-b808-d8cdbc693ad1" class=""><code>chmod [숫자] 파일명</code>

특수권한 + 일반권한</p><blockquote id="a99dcaea-e512-433f-b5af-eac9bea3dd07" class="">setuid - 4
setgid - 2
stickybit - 1</blockquote><ul id="3743cd95-115a-4989-b6e1-7fc9402d86c2" class="bulleted-list"><li style="list-style-type:disc"><code>chmod 3674 dirB</code><p id="67313d27-1198-4138-ad50-aa4aca898106" class=""><code>3</code> = 특수권한( <code>2</code> (setgid)+ <code>1</code>(stickybit) )</p><pre id="dd4a4722-1dda-4813-bf16-28217e56165f" class="code code-wrap"><code>[root@servera ~]# ls -ld dirB
drwxr-xr-x. 2 root root 6 Jan 20 03:03 dirB
[root@servera ~]# chmod 3674 dirB
[root@servera ~]# ls -ld dirB
drw-rwsr-T. 2 root root 6 Jan 20 03:03 dirB</code></pre><p id="40d9555e-c2cb-49f2-b07c-3fa07a3edb8a" class="">기타 사용자 권한에 실행권한이 없기 때문에 T(대문자) 가 표기</p></li></ul><p id="331a93fe-293c-4902-a3c0-11457f8b71ad" class="">
</p><ul id="a17df01a-a64b-4a47-ae25-d339f29ded90" class="bulleted-list"><li style="list-style-type:disc"><code>umask</code><p id="b5f1597b-819f-4863-aba7-8b40851347e9" class="">현재 설정된 권한 값을 확인하는 명령어</p><pre id="cd2789f6-4727-4c83-accf-4ebf1ff1a997" class="code code-wrap"><code>[root@servera ~]# umask
0022</code></pre><p id="76e77242-622e-44b8-bfd4-bd6356672872" class="">디렉토리 기본값 : 777
파일 기본값 : 666</p><p id="b97be0f4-761f-4895-8b45-11c6aa42116d" class="">기본 권한 = 기본값 - umask</p><ul id="583aa9d8-b59a-4178-8f3e-6698802c7336" class="bulleted-list"><li style="list-style-type:circle"><code>umask</code> 기본값은 <code>/etc/profile</code> 에 저장</li></ul><ul id="54fcfea4-1042-4bfb-bbca-b727588d7b1b" class="bulleted-list"><li style="list-style-type:circle"><code>umask</code> 값을 변경하고 싶은 경우 <code>/etc/profile</code> 파일 내 하단에 <code>umask [숫자]</code> 를 입력한 후 저장 및 재부팅 진행</li></ul></li></ul><p id="bc05098a-2595-4bd1-8c22-787c89c0373e" class="">
</p><h1 id="0bda23ba-71fb-4a9a-a085-9b52f8fb90b1" class="">소유권 바꾸기 <code>chown</code></h1><ul id="52211b20-b076-4798-ad67-40c920ab7021" class="bulleted-list"><li style="list-style-type:disc"><code>chown user1 fileA</code><p id="54d1ef17-9ec6-4206-9405-bee167782f86" class="">fileA의 소유자가 user1으로 변경</p></li></ul><ul id="73f00a61-050f-423a-9fe9-445e20f640ef" class="bulleted-list"><li style="list-style-type:disc"><code>chown :user1 fileA</code><p id="cb7cef9a-914e-4aef-a023-f84d587b7345" class="">fileA의 소유그룹이 user1으로 변경</p></li></ul><ul id="42158c11-8000-4ce3-870e-dbd22ee4eb96" class="bulleted-list"><li style="list-style-type:disc"><code>chown root:root fileA</code><p id="0bd9d55b-e05a-4e2a-9a51-579e182dfec8" class="">fileA의 소유자와 소유그룹이 root로 변경됨</p></li></ul><p id="735364a6-bce5-4223-85e8-9e964af41753" class="">
</p><p id="4b8c38a0-2f8e-4d5d-9dc0-31c584e392a9" class="">
</p><p id="17996e1c-42d9-4591-a0d9-6fb8fa746ce3" class="">
</p><p id="5c4c531b-0d35-484a-bc17-1274574b4b76" class="">
</p><h1 id="f883ee48-5071-4e29-88ec-88a342dcdcfa" class="">ssh : 원격 접속 프로토콜</h1><p id="26395d49-c969-4290-ab94-e6431c3f5d10" class="">ssh 프로토콜을 사용하여 안전하지 않은 네트워크를 암호화된 보안방식으로 통신 → <code>https</code></p><p id="a1f5bf76-e5d4-4036-8f4b-12ba48db6a8c" class="">telnet 등 다른 프토토콜들도 있지만 안정성을 위해 ssh 사용</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="45c9d27d-75f8-4fbb-b979-12f262e4a85d"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">사용 형식)
<code>ssh [호스트명]</code>
<code>ssh [사용자명]@[호스트명]</code>
<code>ssh [사용자명]@[ip 주소]</code>
<code>ssh [사용자명]@[ip 주소] [명령어]</code></div></figure><p id="a1fa610c-40da-45b5-a7c5-53c7477cb41f" class="">
</p><p id="5e1c72e8-4a54-476c-a965-8eefe7232699" class="">일회성 명령어를 입력한 후 로그아웃</p><ul id="d7d39209-489f-47b5-a6d4-e07b197de597" class="bulleted-list"><li style="list-style-type:disc">가상머신 2번에 ssh 접속<p id="379eb83f-f4d9-47a9-87db-0900f82ae66d" class=""><code>ssh </code><code><a href="mailto:root@192.168.56.11">root@192.168.56.10</a></code>  </p><pre id="eac01860-1515-4ca8-bee5-7d07a9c7082d" class="code code-wrap"><code>The authenticity of host &#x27;192.168.56.11 (192.168.56.11)&#x27; can&#x27;t be established.
ECDSA key fingerprint is SHA256:fkSI/Z25q4kYI47T/oZYJp/JDkANUVrM3Vs2EwGhGWM.
ECDSA key fingerprint is MD5:c3:52:1a:a1:e0:9d:72:1a:2d:f8:2b:04:ec:26:b8:e4.
Are you sure you want to continue connecting (yes/no)?</code></pre><p id="df76c9d9-0318-4a94-858d-9e2470b8bdbd" class=""><code>yes</code> 입력시 원격 접속 가능</p><p id="1041cddf-bcda-4d66-bfb7-6286103204c1" class=""><code>no</code> 입력시 원격 접속 불가</p><p id="3b6df369-a148-43fa-830e-0deeda4d5c8b" class=""><code>logout</code> : 원격 접속을 종료하고 빠져나옴</p><p id="e6de7093-ede0-4166-a04e-4e5a5242ede0" class=""><code>exit</code> : 명령어 사용 가능</p></li></ul><ul id="8d723c86-24a3-42f9-a3e4-2db45b6420de" class="bulleted-list"><li style="list-style-type:disc">가상머신 1번에 저장된 공개키 확인</li></ul><pre id="fd55f255-92f8-41e2-8cab-e0f0de90600b" class="code code-wrap"><code>[root@servera ~]# cat .ssh/known_hosts 
192.168.56.10 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBOOv7ZpXlZ+LEhWLUnykZAbKzrF1G8BT0QhfNIYEHQJsf6Z7uu3PQLY3QPocKDfn28aemrJD7LBoC6hFK5LB47M=
serverb ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBOOv7ZpXlZ+LEhWLUnykZAbKzrF1G8BT0QhfNIYEHQJsf6Z7uu3PQLY3QPocKDfn28aemrJD7LBoC6hFK5LB47M=</code></pre><ul id="6cb5b0fe-dd70-413d-b7a8-c38144869bb1" class="bulleted-list"><li style="list-style-type:disc">원격 접속 대상인 가상머신 2번에 저장된 개인키 공개키 확인</li></ul><pre id="acd21e04-ab1b-46e8-9f53-ee37c31b1582" class="code code-wrap"><code>[root@servera ~]# ls /etc/ssh
moduli       ssh_host_ecdsa_key      ssh_host_ed25519_key.pub
ssh_config   ssh_host_ecdsa_key.pub  ssh_host_rsa_key
sshd_config  ssh_host_ed25519_key    ssh_host_rsa_key.pub</code></pre><p id="543131a2-77b5-44e4-bde1-aec5be36d9d8" class=""><code>ssh_host_ecdsa_key</code> : 개인키</p><p id="84de692d-5a8f-4e6d-bf27-ae4bd5fc7ae5" class=""><code>ssh_host_ecdsa_key.pub</code> : 공개키(public)</p><p id="da93d181-b7c4-4995-b521-6ce14ac8248e" class="">
</p><p id="175c475e-ad11-4352-88b1-77bf0209e56f" class="">
</p><h2 id="92fa6cd4-6ea9-464b-ba87-8f1a997f90c7" class="">ssh 키 기반 인증 방식</h2><ul id="ae5a2af3-aa9c-4731-902f-186b93a580a5" class="bulleted-list"><li style="list-style-type:disc">패스워드를 사용하지 않아도 되는 편의성</li></ul><ul id="360ff2f7-2e58-4986-8411-24c029c49cdc" class="bulleted-list"><li style="list-style-type:disc">접속할 수 있는 사용자를 제안(보안)</li></ul><ul id="7ad7f357-f0e9-4dee-ae16-1721dd1176b8" class="bulleted-list"><li style="list-style-type:disc">접속할 클라이언트에서 키 생성</li></ul><p id="5bed226f-bffa-4bf0-b291-a2f04b6cc880" class=""><code>ssh-keygen</code></p><pre id="4751ffaf-811b-455b-a5f2-c81264e29672" class="code code-wrap"><code>Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa):	&lt;- 키 저장 위치 지정
Enter passphrase (empty for no passphrase):		&lt;- 2차 비밀번호 설정
Enter same passphrase again:			&lt;- 2차 비밀번호 확인
Your identification has been saved in /root/.ssh/id_rsa.	&lt;- 개인키 이름
Your public key has been saved in /root/.ssh/id_rsa.pub.	&lt;- 공개키 이름
The key fingerprint is:
SHA256:lz6sRHyR+CLpZH7E1DqejC8oikoKCiW+wxmsLiYyeN0 root@localhost.localdomain
The key&#x27;s randomart image is:
+---[RSA 2048]----+
|                 |
|         o .     |
|        o +      |
|       = o o     |
|o .   = S =      |
|.=   = B O       |
|oo. o+ * +      |
|#=+ o E+ . .     |
|&amp;..   .o        |
+----[SHA256]-----+</code></pre><p id="4b2660fc-c0aa-4b54-a5f5-5c71ab5bd62f" class="">
</p><ul id="5a228733-60b5-4a2b-a0bd-34c6b7b32f67" class="bulleted-list"><li style="list-style-type:disc">공개키를 서버(접속할 곳)에 복사<p id="ea252a53-6eb9-4890-928f-baa5308f44a9" class=""><code>ssh-copy-id </code><code><a href="mailto:root@192.168.56.11">root@192.168.5</a></code><code>6.10</code></p></li></ul><ul id="90121500-9db9-4983-8022-d3083abaac86" class="bulleted-list"><li style="list-style-type:disc">키를 가지고 ssh 접속하기<p id="d9032300-4744-48e3-beae-560a80097cae" class=""><code>ssh </code><code><a href="mailto:root@192.168.56.11">root@192.168.56.11</a></code></p></li></ul><ul id="a3c4dd0d-f0c9-4d6f-8ed9-caf35de61d9d" class="bulleted-list"><li style="list-style-type:disc">서버에서 복사된 키 확인<p id="e2fc66fc-6ad2-4c53-b736-99b181fe3e74" class=""><code>cat .ssh/authorized_keys</code></p></li></ul><p id="eead2af3-5b25-4d46-b926-c4e1c89cd38b" class="">
</p><p id="f43d5e18-1767-404f-878d-64c4ea613f25" class="">
</p><ul id="9c49e5e7-bd8d-4e37-81b7-be72c335a8e3" class="bulleted-list"><li style="list-style-type:disc">ssh-keygen 에서 -f 옵션 사용하여 키의 이름을 별도로 지정 가능<p id="6b649bf6-c39a-4437-a5e3-cea0209d7020" class=""><code>ssh-keygen -f .ssh/key-with-pass</code></p></li></ul><pre id="9aff57c3-c00b-403c-a6a5-af61aba78ebc" class="code code-wrap"><code>Generating public/private rsa key pair.
Enter passphrase (empty for no passphrase): 123123	&lt;- 2차 비밀번호 입력
Enter same passphrase again: 123123			&lt;- 2차 비밀번호 확인
Your identification has been saved in .ssh/key-with-pass.
Your public key has been saved in .ssh/key-with-pass.pub.
The key fingerprint is:
SHA256:22OYe9uAoafq8nEyAV8jDZE/WI4AtpfvTS1CYFhT96c root@localhost.localdomain
The key&#x27;s randomart image is:
+---[RSA 2048]----+
|.oo=++ .         |
|..+ =oo .        |
| ..+.B+  . .     |
|  .o=o+.. o      |
|    oo +SE       |
|    ..+..B       |
|    +.o.* =      |
|  .  = o o.+     |
|   ++.. .....    |
+----[SHA256]-----+</code></pre><p id="7977b658-7513-4124-b7df-5830572df043" class="">
</p><ul id="429388e9-78d2-4975-87fc-db257c693ead" class="bulleted-list"><li style="list-style-type:disc">별도로 생성한 키의 공개키를 서버에 복사<p id="1978cf5b-75c7-42ec-8c87-75389b8df07e" class=""><code>ssh-copy-id -i .ssh/key-with-pass.pub root@192.168.56.10</code></p></li></ul><ul id="aafc38c4-492e-4dea-bc09-f49f18f82a40" class="bulleted-list"><li style="list-style-type:disc">지정한 키로 서버에 접속<p id="ca523804-4dce-4a0c-90d6-7eb53cb7c95e" class=""><code>ssh -i .ssh/key-with-pass root@192.168.56.10</code></p></li></ul><p id="79b195bd-9228-4d60-8fbe-80e6bc4866cd" class="">
</p><p id="87b9c7fe-1ce2-4ce8-909c-8264893da6eb" class="">개인키는 유포되지 않도록 조심해야 함
개인키의 권한은 소유자만 가지고 있어야 함</p><p id="bf1590ba-30c6-490a-a060-88935ecbf619" class="">프로그램을 사용하여 임시로 키 파일에 설정된 암호를 메모리에 캐시(클라이언트)</p><p id="058daf1b-f9b7-4f50-bf00-660ae8c54a85" class="">
</p><h3 id="e971f0fa-c456-46ae-bff9-f7fa0384f4ad" class="">passphrase 암호</h3><p id="198e4b64-a81e-4792-80b1-24c8cae732ff" class="">런타임 설정이므로 영구적으로 사용 불가</p><ul id="eb4e6d58-ebcd-4e98-9ebe-81612ecf78eb" class="bulleted-list"><li style="list-style-type:disc">시스템 내부에 저장된 ssh-agent 변수를 실행<p id="80e92393-00c2-4b2e-befb-19d7d0fdcb41" class=""><code>eval $(ssh-agent)</code></p></li></ul><ul id="a27e8631-4856-4896-99a7-bdc4fe73966d" class="bulleted-list"><li style="list-style-type:disc">2차 비밀번호 메모리에 캐시<p id="6ce68c56-a5b9-4690-adb3-b1c3e517a0b8" class=""><code>ssh-add .ssh/key-with-pass</code></p></li></ul><ul id="d3b39e3f-a56d-43a5-8d8f-5616bee8960a" class="bulleted-list"><li style="list-style-type:disc">passphrase 없이 ssh 접속 확인<p id="929f50b1-4536-417a-8c86-7ae42c48cdce" class=""><code>ssh -i .ssh/key-with-pass root@192.168.56.11</code></p></li></ul><p id="2dff4fa9-7070-45d6-97aa-d3f2d072e458" class="">
</p><p id="b520b156-0846-475c-86da-629be1e34ed5" class="">
</p><h2 id="504baf48-2c0a-4677-b76a-d553695304eb" class=""><code>/etc/ssh/sshd_config</code></h2><p id="7d98d0d7-6285-444b-840b-9842442e6548" class="">ssh 데몬 설정파일</p><p id="20df6ecc-9ead-43f9-bfb5-4398060b76dd" class="">
</p><pre id="bf0acef8-1a25-4b67-9394-78c2567d8806" class="code code-wrap"><code># Authentication:

#LoginGraceTime 2m
#PermitRootLogin yes
#StrictModes yes
#MaxAuthTries 6
#MaxSessions 10</code></pre><h3 id="9eaf6259-639d-4c10-91cb-33d7673743c2" class="">PermitRootLogin</h3><p id="27fc4488-e827-47d6-93fa-c5bdf4a996d9" class=""><code>yes</code> 설정 시 루트로 바로 로그인 가능</p><p id="03760abf-11eb-47f8-a34f-8a4ed82cfcc9" class=""><code>no</code> 설정 시 루트로 바로 로그인 불가</p><p id="34f1cddf-57fa-4394-b540-ab370159b6e2" class="">
</p><pre id="4045d8c8-359d-4018-8130-e13b41326a3c" class="code code-wrap"><code># To disable tunneled clear text passwords, change to no here!
#PasswordAuthentication yes
#PermitEmptyPasswords no
PasswordAuthentication yes</code></pre><h3 id="20f167bd-6f51-4c2d-8421-db346ec959ff" class="">PasswordAuthentication</h3><p id="1521a649-a81d-41ac-9e99-855b4fceb616" class=""><code>yes</code> 설정 시 모든 사용자에 대해서 패스워드 인증 방식 허용</p><p id="89f08402-dd5b-40a0-a4d2-b456e0f2ddfc" class=""><code>no</code> 설정 시 모든 사용자에 대해서 키 기반 인증 방식 허용 (패스워드 X)</p><p id="507bda41-4003-42e8-9b58-a8cab3ea9f87" class="">
</p><p id="ff5eaf28-352a-4af2-9491-8b44c2e7f1df" class="">
</p><h1 id="33ef14f1-d802-48c1-aada-c2dc092182a6" class="">로그</h1><p id="1913a709-18f1-4de1-a8de-6cf3d2af9ca9" class="">어디에서 문제가 발생했는지, 무슨 작업을 했는지를 확인하기 위한 목적으로 기록</p><p id="f940faa7-0c3f-45f0-84df-1c9fd462fb8a" class="">특정 서비스에 의해서 기록</p><ul id="a2674fce-5d5d-4d31-b46e-d5c040e8b2b3" class="bulleted-list"><li style="list-style-type:disc">이벤트 발생시
이벤트 -&gt; <code>systemd-journald</code> -&gt; <code>syslogd</code>
                    1차 가공                    2차 가공
                 (/run/log/journal)        (/var/log)</li></ul><blockquote id="ae8e4acf-4786-4db3-bdeb-ffcad09991bc" class=""><code>run</code> 디렉토리는 휘발성 디렉토리</blockquote><ul id="1708c20b-9124-4ecb-8618-6dfcaa069dfe" class="bulleted-list"><li style="list-style-type:disc">비교
                        <code>journal</code>	                 	<code>syslog</code>
저장 형태	      바이너리 형식	        ASCII 텍스트 형식
저장 유지	          휘발성                   비휘발성(일정 시간 지난 후 삭제)
확인 명령어      journalctl	              일반적인 확인 명령어
(cat, tail, head, vim, ...)</li></ul><p id="73da3bf7-e6ba-4d13-8a1c-69dab7fadbed" class="">
</p><h2 id="c2051028-3211-49e5-b99f-cfbf770b66cb" class=""><code>journal</code> 파일 내용 확인</h2><pre id="3d1d711c-1569-4137-8e1c-fb0136d5ad2e" class="code code-wrap"><code>[root@localhost ~]# head -n 3 /run/log/journal/df926b423b46d1449d9af6c8c8ae8479//system.journal 
.i????????????D??x?????ߒB;F?D????Ȯ?y}j?ԩ?JɅp&gt;@)???m*?iD??x?????c???$??@????3??kWmV?q???&quot;?

              ?

               ??????????????????
                                 ??
                                  B????(?(??@?@?w
                                                 ?w
                                                   ??????
                                                         ??




                                                           `?`?`x
                                                                 `x
                                                                   ?
                                                                    ?
                                                                     0?
                                                                       0?
                                                                         ??????????h?h?????0?0?xAxA??
        ??
          8?8?  ???????? ? ?0e

                             (T(T????????`?`?0?0?@?@???
                                                       ??
                                                         ??8?
                                                             ??PP?M?M&amp;&amp;??
                                                                         ??
                                                                           ????PIPI0C0C???? % %?
   ȼ?????
         xv??h6h??|??
                     8
8
?????[
      ?[
        ?M
[root@localhost ~]#</code></pre><p id="49acc735-a149-43fe-9715-8836f27d4b93" class="">바이너리 형식이기 때문에 사용자가 육안으로 식별하기 힘듬</p><p id="e321160b-9514-4d8f-a5be-7067e1bd8056" class="">
</p><ul id="cd4ff466-afa5-41a0-8574-fc87ccbed9d5" class="bulleted-list"><li style="list-style-type:disc">journal 로그 확인<pre id="f0fd9cbc-6d20-44dc-bec7-bbf0875999e1" class="code code-wrap"><code>[root@localhost ~]# journalctl
-- Logs begin at Mon 2022-01-10 00:29:57 EST, end at Tue 2022-01-11 18:01:01 EST. --
Jan 10 00:29:57 localhost.localdomain systemd-journal[92]: Runtime journal is using 6.1M (max
Jan 10 00:29:57 localhost.localdomain kernel: Initializing cgroup subsys cpuset
Jan 10 00:29:57 localhost.localdomain kernel: Initializing cgroup subsys cpu
Jan 10 00:29:57 localhost.localdomain kernel: Initializing cgroup subsys cpuacct
Jan 10 00:29:57 localhost.localdomain kernel: Linux version 3.10.0-1160.el7.x86_64 (mockbuild
Jan 10 00:29:57 localhost.localdomain kernel: Command line: BOOT_IMAGE=/vmlinuz-3.10.0-1160.e
Jan 10 00:29:57 localhost.localdomain kernel: e820: BIOS-provided physical RAM map:
...</code></pre><p id="318426c1-82b9-4db3-98b7-28d6ca45d814" class="">2차 가공된 로그보다 많은 로그 확인 가능</p><p id="a93c61cf-9f04-4d30-95e7-c2b61ddbfa22" class="">
</p></li></ul><h2 id="e597683d-3e5c-4992-9781-5e8b7545242a" class=""> <code>syslog</code> 파일 확인</h2><ul id="9120a8cb-022b-4396-ae43-667c1bc874de" class="bulleted-list"><li style="list-style-type:disc"><code>/var/log</code> 각종 로그 관련 파일<pre id="468e4e1c-ec43-4874-8cc6-5ec3fa5c2732" class="code code-wrap"><code>[root@localhost ~]# ls /var/log
anaconda  boot.log-20220111  cron       grubby_prune_debug  messages  secure    tuned
audit     btmp               dmesg      lastlog             qemu-ga   spooler   wtmp
boot.log  chrony             firewalld  maillog             rhsm      tallylog</code></pre></li></ul><ul id="76f9f042-4ba2-4740-9a8e-6378622c3073" class="bulleted-list"><li style="list-style-type:disc"><code>/var/log/secure</code> : secure 관련 로그<pre id="2542ece5-dab1-4d73-867b-b3c4749cd17b" class="code code-wrap"><code>[root@localhost ~]# tail -n 5 /var/log/secure
Jan 11 17:24:05 localhost sshd[10961]: pam_succeed_if(sshd:auth): requirement &quot;uid &gt;= 1000&quot; not met by user &quot;root&quot;
Jan 11 17:24:27 localhost sshd[10961]: Failed password for root from 192.168.56.1 port 50543 ssh2
Jan 11 17:27:14 localhost sshd[10965]: Accepted publickey for root from 192.168.56.1 port 50559 ssh2: RSA SHA256:f2vAAeNCFaZ9zVtWoWXX/8wP4prOkrXkJws+VHZsVZU
Jan 11 17:27:55 localhost sshd[10965]: pam_unix(sshd:session): session opened for user root by (uid=0)
Jan 11 17:52:48 localhost sshd[10345]: pam_unix(sshd:session): session closed for user root</code></pre></li></ul><ul id="d00fe59c-e0db-40cd-ac03-02352fc699a8" class="bulleted-list"><li style="list-style-type:disc"><code>tail</code> 에서 실시간 모니터링<p id="8f8630e3-d75f-4db9-9f24-bd762a4d0806" class=""><code>-f</code> 옵션</p><p id="518fbc68-1b41-4e43-a3c6-ca51e334d963" class=""><code>tail -f /var/log/secure</code></p><p id="e981179f-ca58-4668-8c92-a99ee46d7378" class=""><code>ctrl</code> + <code>c</code>로 빠져나오기</p><p id="6a1860b4-df91-43e4-8a27-72c57c74a950" class="">
</p><p id="7ef4eaa6-3c79-44b5-994d-7a2311883a87" class="">
</p></li></ul><p id="487a6978-4ed6-4818-bbcf-f4c811eccb2e" class="">
</p><h2 id="ed68750e-9615-414f-a565-47301acb06fc" class=""><code>/etc/rsyslog.conf</code>: 로그 설정 파일</h2><pre id="c7ff5220-023e-429d-a1f1-a6324c43d2bf" class="code code-wrap"><code>#### RULES ####

# Log all kernel messages to the console.
# Logging much else clutters up the screen.
#kern.*                                                 /dev/console

# Log anything (except mail) of level info or higher.
# Don&#x27;t log private authentication messages!
*.info;mail.none;authpriv.none;cron.none                /var/log/messages

# The authpriv file has restricted access.
authpriv.*                                              /var/log/secure
# authpriv(인증) 종류의 모든 우선 순위 이벤트를 기록
# Log all the mail messages in one place.
mail.*                                                  -/var/log/maillog


# Log cron stuff
cron.*                                                  /var/log/cron</code></pre><p id="6b528477-68d4-4676-ac45-f655f16931d3" class="">
</p><h3 id="aa2509b8-c723-475b-91e1-f3986aa0b08f" class="">syslog 우선 순위</h3><p id="bad5a46f-13e2-4e81-85d0-6c3877596e77" class="">
<code>emerg</code> - 시스템이 불능상태에 빠졌을 경우
<code>alert</code> - 시스템이 멈출 수 있는 치명적인 오류인 경우
<code>crit </code>- 시스템에 영향이 있을 수 있는 경우
<code>err</code> - 명령어가 잘못된 경우
<code>warning</code> - 설정은 되지만 조건에 충족하지 못하는 경우
<code>notice</code> - 에러가 아닌 알람에 대한 메세지
<code>info</code> - 단순한 프로그램에 대한 메세지
<code>debug</code> - 디버깅에 대한 메세지</p><p id="99fa7ebe-9373-4c21-95f4-bd4c62a4484c" class="">
</p><ul id="d6de6724-c1cd-432d-a777-f194c254fa1b" class="bulleted-list"><li style="list-style-type:disc"><code>/etc/logrotate.conf</code> :<p id="e494bc54-b976-4a76-a744-aa533b1d5710" class="">주기적으로 시간 정보를 확인하여 보관 기간이 지난 파일을 압축, 삭제 등의기능을 처리해주는 설정 파일</p></li></ul><p id="99b5aef8-c295-4623-9f38-cac5c838b7b1" class="">
</p><p id="d4ee3acf-799b-407a-a2f4-22d77717a1e9" class="">
</p><h3 id="3a7448c2-94c5-47ee-ae15-6c6d9bde1fd9" class=""><code>logger</code> : 로그메시지 생성</h3><p id="1a0cdc55-e227-48f8-a923-77ed2650cbd4" class=""><code>logger -p authpriv.emerg &quot;test logger&quot;</code></p><p id="4d7475ac-49de-479b-861f-88b23e7d8130" class=""><code>p</code>옵션으로 로그 종류와 우선 순위를 지정하여 전송 가능</p><p id="3c883def-d739-4635-8766-b88696bbb603" class="">
</p><ul id="0fe6a519-52ef-4ae0-b40b-3643ef1e38bf" class="bulleted-list"><li style="list-style-type:disc">journal 로그 영구 저장
<code>/etc/systemd/journald.conf</code>
8버전 이상<pre id="93099d4e-ee61-481e-825b-84808aa90a7d" class="code code-wrap"><code>[root@localhost ~]# vi /etc/systemd/journald.conf

#  This file is part of systemd.
#
#  systemd is free software; you can redistribute it and/or modify it
#  under the terms of the GNU Lesser General Public License as published by
#  the Free Software Foundation; either version 2.1 of the License, or
#  (at your option) any later version.
#
# Entries in this file show the compile time defaults.
# You can change settings by editing this file.
# Defaults can be restored by simply deleting this file.
#
# See journald.conf(5) for details.

[Journal]
#Storage=auto
#Compress=yes
#Seal=yes</code></pre><p id="c506ebe6-e1cf-45a1-bfdd-499cea148359" class="">Storage 부분을 <code>auto</code> -&gt; <code>persistent</code></p><p id="f7145bc8-3628-4ae3-93a3-099156b78fab" class=""><code>/var/log/journal</code> 디렉토리가 자동 생성되며 로그 파일이 기록됨</p></li></ul><p id="756e71d9-87c1-47ba-86d9-8253e76f6842" class="">
</p><p id="b06dbc2a-0722-483c-9e84-ef003c00a907" class="">
</p><h3 id="82272406-c799-406c-9ad7-21e08b9df4f3" class=""><code>timedatectl</code> : 현재 시스템에 사용하는 시간 정보, NTP 서비스 가동 여부 등 항목 확인 가능</h3><ul id="aea99911-c0a0-4475-abd9-44cad7343b2e" class="bulleted-list"><li style="list-style-type:disc">시간 설정이 가능한 지역 확인<pre id="9e3f8dc6-371f-4142-bedd-8847d5c84ed9" class="code code-wrap"><code>[root@localhost ~]# timedatectl list-timezones
Africa/Abidjan
Africa/Accra
Africa/Addis_Ababa
Africa/Algiers
Africa/Asmara
Africa/Bamako
Africa/Bangui
Africa/Banjul</code></pre></li></ul><p id="54aa45df-36a6-4fee-ab44-a03135b77700" class="">
</p><ul id="60bbfe01-6ebc-4b73-bab8-a3ce57187f1c" class="bulleted-list"><li style="list-style-type:disc">시간을 서울 지역으로 변경<p id="8c14a0d9-3595-4eb3-8e8a-f27c48da8e45" class=""><code>timedatectl set-timezone Asia/Seoul</code></p></li></ul><p id="b9269212-7d9a-431c-a34d-bb03598f1156" class="">
</p><ul id="f612eb22-30cf-4dbd-9e8b-cf9d6cdaa91f" class="bulleted-list"><li style="list-style-type:disc"><code>chronyd</code><p id="4243bb01-f4c7-426b-b4e7-b106ff32197f" class="">네트워크로 구성된 환경에서 구동되는 시스템들의 시간 동기화 프로토콜</p><p id="60390bf1-d7d3-402d-8194-fa20694c6bcd" class=""><code>/etc/chrony.conf</code></p><pre id="2f06f9d8-5ed8-447f-bd9f-91f523dc929e" class="code code-wrap"><code># Use public servers from the pool.ntp.org project.
# Please consider joining the pool (http://www.pool.ntp.org/join.html).
server 0.centos.pool.ntp.org iburst
server 1.centos.pool.ntp.org iburst
server 2.centos.pool.ntp.org iburst
server 3.centos.pool.ntp.org iburst</code></pre><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="ae7f2042-7036-4f6a-ba24-6a679a8d5294"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">iburst : 동기화시간을 단축시켜준다.</div></figure></li></ul><ul id="7a84f950-44f0-4aed-9bf7-10a8a04787cd" class="bulleted-list"><li style="list-style-type:disc">시간 동기화 확인 : <code>chronyc sources -v</code><p id="4eaff7ac-e1f0-48ba-9ed1-5821d37a5576" class=""><code>v</code> 옵션을 사용하여 <code>chrony</code> 서버에 대한 정보 출력</p><pre id="a55feef9-2b9c-42fe-9339-e7443483dd90" class="code code-wrap"><code>[root@localhost ~]# chronyc sources -v
210 Number of sources = 4

  .-- Source mode  &#x27;^&#x27; = server, &#x27;=&#x27; = peer, &#x27;#&#x27; = local clock.
 / .- Source state &#x27;*&#x27; = current synced, &#x27;+&#x27; = combined , &#x27;-&#x27; = not combined,
| /   &#x27;?&#x27; = unreachable, &#x27;x&#x27; = time may be in error, &#x27;~&#x27; = time too variable.
||                                                 .- xxxx [ yyyy ] +/- zzzz
||      Reachability register (octal) -.           |  xxxx = adjusted offset,
||      Log2(Polling interval) --.      |          |  yyyy = measured offset,
||                                \     |          |  zzzz = estimated error.
||                                 |    |           \
MS Name/IP address         Stratum Poll Reach LastRx Last sample               
===============================================================================
^? 106.247.248.106               2  10     0   42h   -257us[+1549us] +/-   44ms
^? 211.233.40.78                 2  10     0   42h    -25us[+1781us] +/-   33ms
^? 13.209.84.50                  2  10     0   42h  -4305us[-4305us] +/- 9588us
^? 211.233.84.186                2  10     0   42h   +877us[ +877us] +/-   61ms</code></pre><p id="b419d227-628d-4815-804e-8da41609952c" class="">
</p></li></ul><h1 id="89da1b85-a0c3-4ee2-8ecd-4156d4b4cd7c" class="">네트워킹 관리</h1><ul id="3e293520-97fa-49cb-b026-cdaedbabb265" class="bulleted-list"><li style="list-style-type:disc">네트워크 인터페이스 확인<p id="eb9ad37b-cf70-4ae7-b258-4db4599bfabe" class=""><code>ifconfig</code></p></li></ul><ul id="505693cf-32ac-4fc6-9b6c-a6e4850861d0" class="bulleted-list"><li style="list-style-type:disc">IP 정보 확인<p id="e15a4c73-0207-4194-be1c-2292ec3a61f5" class=""><code>ip addr show</code></p></li></ul><ul id="5487ffe0-d4ca-423d-b328-1b2acd24b1b5" class="bulleted-list"><li style="list-style-type:disc">라우팅 테이블 상태 정보 확인<p id="af2a8451-91e3-43ae-9e82-9c09e9ccaaf6" class=""><code>ip route</code></p></li></ul><ul id="eadb9079-aa87-47e1-b30f-dd64cf894b90" class="bulleted-list"><li style="list-style-type:disc">패킷의 흐름 확인 1<p id="f8b13658-45f4-462d-a9ec-0ab8aeb98a7c" class=""><code>yum -y install traceroute</code></p><p id="1767b0fc-b7d6-4ce9-9bde-090c3bdd2390" class=""><code>traceroute </code><code><a href="http://www.google.com/">www.google.com</a></code></p></li></ul><ul id="7787fea2-7aa4-4b0d-9b32-1a98cbd2a896" class="bulleted-list"><li style="list-style-type:disc">패킷의 흐름 확인 2<p id="55791644-b166-43da-9626-74b58ec52b9d" class=""><code>tracepath </code><code><a href="http://www.google.com/">www.google.com</a></code></p></li></ul><p id="679305c8-8af8-46a3-8882-e9c384643db2" class="">
</p><figure id="bddc9fa9-2f1c-4a84-b506-907c15e83272" class="image"><a href="../Linux%20log,%20nmcli,%20ssh%20c2d7906b2be1413c9c09530b26dfb92d/virtualbox_%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3_%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%90%E1%85%A5%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3.png"><img style="width:1414px" src="../Linux%20log,%20nmcli,%20ssh%20c2d7906b2be1413c9c09530b26dfb92d/virtualbox_%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3_%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%90%E1%85%A5%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3.png"/></a></figure><h1 id="ebf3ff8e-3000-4bb6-b72c-00d352fcbbfa" class=""><code>nmcli</code> : cli 환경에서 사용하는 명령어</h1><ul id="88d5732f-f423-4ae1-a2a8-b68d631fc4fc" class="bulleted-list"><li style="list-style-type:disc">네트워크 관리는 수퍼유저 권한 필요</li></ul><ul id="7a805563-2d75-45fe-93fc-39ac713a2eea" class="bulleted-list"><li style="list-style-type:disc">명령어를 입력하여 설정을 변경하는 것이므로 네트워크 서비스를 재시작해주는 것이 아닌 <code>nmcli con reload </code>명령어를 입력해주어야 함</li></ul><ul id="96a3045e-4820-4fac-a2ae-d67433666b77" class="bulleted-list"><li style="list-style-type:disc">네트워크 장치로 연결 정보 확인하기<p id="3df0f322-b2d6-47bc-9ffb-6091a696c0f8" class=""><code>nmcli dev status</code></p></li></ul><ul id="283017fd-4adf-4dbc-bc17-0190a58e841b" class="bulleted-list"><li style="list-style-type:disc">네트워크 장치 세부 정보 확인<p id="d2ae647a-2cd5-44ad-b604-b12d91328816" class=""><code>nmcli dev show</code></p></li></ul><ul id="7d8d25ff-fb14-4252-93c3-198c28a0491a" class="bulleted-list"><li style="list-style-type:disc">연결 설정 정보 확인<p id="f56419ce-efc0-4332-9a2f-aafaa485a2f8" class=""><code>nmcli con show</code></p><pre id="721f27f7-2744-49ce-8574-55d72838d54e" class="code code-wrap"><code>[root@chan ~]# nmcli con show
NAME    UUID                                  TYPE      DEVICE 
ens2    e58f0b20-8649-4e8c-8a1d-181c5cf4cb71  ethernet  enp0s8 
ens1    51745453-2359-4dff-9ace-e48f821f9c6f  ethernet  enp0s3 
enp0s3  02ac81fa-57e4-45e4-af2a-2edb6b4a724f  ethernet  --     
enp0s8  26d123f8-5721-49bb-92d1-f58f58d220d4  ethernet  --</code></pre></li></ul><ul id="fde0c6e2-8287-4a4e-8bf3-c01354a39864" class="bulleted-list"><li style="list-style-type:disc">특정 연결 설정 정보 확인<p id="21e2daad-522b-4f1e-96e1-7893279322b5" class=""><code>nmcli con show &#x27;ens1&#x27;</code></p></li></ul><ul id="a43b9dfd-e03e-4427-a0a2-f774dfe0c8d1" class="bulleted-list"><li style="list-style-type:disc">dhcp 자동으로 연결<p id="53402ec1-caa1-4318-a436-38ac162934d8" class=""><code>nmcli con add con-name ens3 type ethernet ifname enp0s8</code></p><p id="e8863231-f452-4cb8-9194-a1677891773d" class=""><code>nmcli con up ens3</code></p></li></ul><ul id="0eabd0ba-c2fc-47d7-b124-f8ac4b45cca3" class="bulleted-list"><li style="list-style-type:disc">네트워크 수동 설정 추가</li></ul><p id="8d69e8d2-70a7-466f-9b77-0ede92f80506" class=""><code>nmcli con add con-name ens4 type ethernet ifname enp0s8 \ ipv4.method manual ipv4.addresses 192.168.56.10/24 \ ipv4.gateway 192.168.56.1 ipv4.dns 8.8.8.8</code></p><p id="8c7cf956-97b1-44da-8712-3beeb7c8de4f" class=""><code>nmcli con up ens4</code></p><ul id="548645ed-be7c-4a22-808c-5f13a6e0e623" class="bulleted-list"><li style="list-style-type:disc">네트워크 연결 설정 변경<p id="2c341a28-8d5a-4b05-9420-188eff2df54b" class=""><code>nmcli con mod ens4 ipv4.addresses 192.168.56.12</code></p><p id="9653ccfa-aa9a-467f-bbe0-8d5da1d7aa64" class="">해당하는 부분을 바꿔주면 됨</p><p id="f1eb05b3-2522-44dd-b677-d513d989db75" class="">설정 변경 후 해줘야 할 것</p><p id="9d8e8f6f-52ae-4685-86aa-4ea040a1af17" class=""><code>nmcli con reload</code></p><p id="7aad5ac7-be8b-4bda-a298-b7075aba223f" class=""><code>nmcli con down ens4</code></p><p id="46b40797-7f68-4777-8d41-7fa43653318b" class=""><code>nmcli con up ens4</code></p><p id="b2be34c2-b5c5-475d-83eb-f038c1da6b34" class="">설정 변경 후 설정을 다시 로드해주고 해당 연결을 해제 후 다시 연결</p></li></ul><p id="1acb4970-9a87-4f1f-ae71-a2bde5ec34c4" class="">
</p><ul id="1f541f13-1f8b-4c5f-8992-a3f2a65a4a32" class="bulleted-list"><li style="list-style-type:disc">다른 ip로 연결해줄 시 putty 연결이 끊어짐<p id="267b853e-2002-4dcf-9d97-2657f9d4e0a4" class=""><code>192.168.56.12</code> putty 연결 후</p><p id="21c9718a-d779-4126-b47c-f45effc39f96" class=""><code>nmcli con up ens2</code></p><p id="36ca749d-6dc0-444e-8684-ce47742c560b" class="">192.168.56.10 putty 연결</p></li></ul><ul id="0a3998c8-2e90-4f60-9164-784c767a2b12" class="bulleted-list"><li style="list-style-type:disc">네트워크 연결 제거<p id="4584c318-9252-44f6-b8d0-1b2863f38a73" class=""><code>nmcli con del ens3</code></p><p id="3b35e3f8-46c8-4e77-8fa6-9b297d418d89" class="">
</p></li></ul><ul id="d9cabab8-8e5e-47b3-8429-4aa3acdec31c" class="bulleted-list"><li style="list-style-type:disc">호스트네임 변경 방법(2가지)<ul id="3f9ee2b5-9e51-4d0f-858b-82ee76a775bf" class="bulleted-list"><li style="list-style-type:circle"><code>/etc/hostname</code> 내용 변경<p id="188f5b36-c96d-4326-ab63-e7799c151f7b" class=""><code>hostnamectl set-hostname servera</code></p><pre id="b06f96a8-041a-48bf-b734-9e02260bd31c" class="code code-wrap"><code>[root@localhost ~]# hostnamectl set-hostname chan
[root@localhost ~]# hostname
chan</code></pre></li></ul><p id="248dc33d-ce5f-4862-a258-6755deb358aa" class=""><div class="indented"><p id="11fd3652-cb58-4638-bf5f-a4efdeacf0e9" class="">적용시킬려면 reboot를 해야한다.</p><p id="af9fcc78-eb41-4ec4-b7a9-5f1907cb3217" class="">하지만 <code>bash</code> 를 이용하면 즉시 적용된다</p><pre id="a0fba4df-99fa-4638-9007-0d47ccce65d3" class="code code-wrap"><code>[root@localhost ~]# bash
[root@chan ~]#</code></pre></div></p></li></ul><p id="75ed934d-331e-4e20-9fe3-ec92c14ce1d4" class="">
</p><h3 id="80692641-5d57-44d3-a2df-ba23684da85a" class=""><code>/etc/host</code></h3><p id="f9c5f2f3-dcd0-4d2f-a683-28cce7049c44" class="">도메인 네임의 이름을 확인하여 호스트 네임을 ip 주소로 또는 그 반대로 변환하는데 사용</p><p id="106c3c27-04df-4094-accf-cdfb362a9c22" class=""><code>vi /etc/hosts</code></p><pre id="619c1078-3d43-4aab-af27-fdd044d5b7e4" class="code code-wrap"><code>...
192.168.56.10 serverb    &lt;--- 마지막 줄에 추가</code></pre><ul id="43ebf0e2-e18d-4431-b111-12ce42c605b7" class="bulleted-list"><li style="list-style-type:disc">serverb로 ssh 접속<p id="b238c0fd-7d25-4194-8807-a9467340c47c" class=""><code>ssh root@serverb</code></p><p id="6e67d24e-7c2c-45ca-aa7f-7bc1365820c5" class="">192.168.56.10로 접속됨</p></li></ul><p id="dc72e20f-45e1-4d0f-b7ba-49b780e1d96d" class=""><a href="mailto:gsoh@nobreak.co.kr">gsoh@nobreak.co.kr</a></p></div></article></body></html>