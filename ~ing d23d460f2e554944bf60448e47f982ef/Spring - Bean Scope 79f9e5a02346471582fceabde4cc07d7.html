<html><head><script src="../embed-sub.js" defer></script><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Spring - Bean Scope</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgba(255, 255, 255, 0.9);;
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(255, 255, 255, 0.9);;
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
}

.simple-table-header {
	background: rgb(247, 246, 243);
	color: black;
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="79f9e5a0-2346-4715-82fc-eabde4cc07d7" class="page sans"><header><div class="page-header-icon undefined"><img class="icon" src="Spring%2079f652ff9ca04acf8d146409c508fa3d/spring.png"/></div><h1 class="page-title">Spring - Bean Scope</h1><table class="properties"><tbody><tr class="property-row property-row-created_time"><th><span class="icon property-icon"><svg viewBox="0 0 14 14" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.4);flex-shrink:0;-webkit-backface-visibility:hidden" class="typesCreatedAt"><path d="M6.98643729,14.0000972 C5.19579566,14.0000972 3.40419152,13.3106896 2.04245843,11.9323606 C-0.681017475,9.21200555 -0.680780251,4.76029539 2.04293482,2.04012507 C4.76664406,-0.68004331 9.22427509,-0.68004331 11.9480135,2.04013479 C13.272481,3.36277455 14,5.1330091 14,6.99552762 C14,8.87640182 13.2721894,10.6285043 11.9480135,11.9509302 C10.5679344,13.3105924 8.77756503,14.0000972 6.98643729,14.0000972 Z M10.2705296,7.00913883 L10.2705296,8.46099754 L10.2705296,8.65543362 L10.076181,8.65543362 L8.6543739,8.65543362 L5.72059514,8.65543362 L5.52619796,8.65543362 L5.52619796,8.46099754 L5.52619796,5.52541044 L5.52619796,3.37946773 L5.52619796,3.18502193 L5.72059514,3.18502193 L7.17253164,3.18502193 L7.36692883,3.18502193 L7.36692883,3.37946773 L7.36692883,6.81467358 L10.076181,6.81467358 L10.2705296,6.81467358 L10.2705296,7.00913883 Z M12.1601539,6.99552762 C12.1601539,5.61697497 11.6190112,4.32597154 10.6393933,3.34769528 C8.63253764,1.34336744 5.35197452,1.34061603 3.34153136,3.33944106 C3.33868273,3.34219247 3.33607716,3.34494388 3.33322852,3.34769528 C1.32397148,5.35459953 1.32372842,8.63641682 3.33322852,10.6433794 C5.34295224,12.6504489 8.62968901,12.6504489 10.6393933,10.6433794 C11.6190112,9.66506426 12.1601539,8.37408027 12.1601539,6.99552762 Z"></path></svg></span>생성일</th><td><time>@2022년 1월 16일 오후 2:56</time></td></tr><tr class="property-row property-row-multi_select"><th><span class="icon property-icon"><svg viewBox="0 0 14 14" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.4);flex-shrink:0;-webkit-backface-visibility:hidden" class="typesMultipleSelect"><path d="M4,3 C4,2.447715 4.447715,2 5,2 L12,2 C12.5523,2 13,2.447716 13,3 C13,3.55228 12.5523,4 12,4 L5,4 C4.447715,4 4,3.55228 4,3 Z M4,7 C4,6.447715 4.447715,6 5,6 L12,6 C12.5523,6 13,6.447716 13,7 C13,7.55228 12.5523,8 12,8 L5,8 C4.447715,8 4,7.55228 4,7 Z M4,11 C4,10.447715 4.447715,10 5,10 L12,10 C12.5523,10 13,10.447716 13,11 C13,11.55228 12.5523,12 12,12 L5,12 C4.447715,12 4,11.55228 4,11 Z M2,4 C1.44771525,4 1,3.55228475 1,3 C1,2.44771525 1.44771525,2 2,2 C2.55228475,2 3,2.44771525 3,3 C3,3.55228475 2.55228475,4 2,4 Z M2,8 C1.44771525,8 1,7.55228475 1,7 C1,6.44771525 1.44771525,6 2,6 C2.55228475,6 3,6.44771525 3,7 C3,7.55228475 2.55228475,8 2,8 Z M2,12 C1.44771525,12 1,11.5522847 1,11 C1,10.4477153 1.44771525,10 2,10 C2.55228475,10 3,10.4477153 3,11 C3,11.5522847 2.55228475,12 2,12 Z"></path></svg></span>태그</th><td><span class="selected-value select-value-color-gray">스프링</span><span class="selected-value select-value-color-orange">스프링기본</span></td></tr></tbody></table></header><div class="page-body"><ul id="87941b37-ee31-452f-94e4-72bec014e0f6" class="bulleted-list"><li style="list-style-type:disc"><strong>What is Bean Scope?</strong><p id="32058df7-a6e7-46d7-a833-0cf5c7262ca9" class="">지금까지 스프링 빈이 스프링 컨테이너의 시작과 함께 생성되어서 스프링 컨테이너가 종료될 때까지 유지된다는 것을 알았다. 이것은 스프링 빈이 기본적으로 싱글톤 스코프로 생성되기 때문이다. 스코프는 번역 그대로 빈이 존재할 수 있는 범위를 뜻한다.</p><p id="48b0d263-c6f8-4da6-a4cc-f17a862c8353" class=""><strong>스프링의 다양한 스코프</strong></p><ul id="cae57f93-66ef-49fe-95dd-972f6e0a78c9" class="bulleted-list"><li style="list-style-type:circle"><strong>싱글톤</strong>: 기본 스코프, 스프링 컨테이너의 시작과 종료까지 유지되는 가장 넓은 범위의 스코프이다.</li></ul><ul id="5aa02879-cf65-4a5f-b729-212a386416c0" class="bulleted-list"><li style="list-style-type:circle"><strong>프로토타입</strong>: 스프링 컨테이너는 프로토타입 빈의 생성과 의존관계 주입까지만 관여하고 더는 관리하지 않는
매우 짧은 범위의 스코프이다.</li></ul><ul id="5a34e350-6cab-4b08-9f02-2b359b93cc99" class="bulleted-list"><li style="list-style-type:circle"><strong>웹 관련 스코프</strong><ul id="dc2ccc2a-f0f5-451d-a715-1eab2cbfa2ad" class="bulleted-list"><li style="list-style-type:square"><strong>request</strong>: 웹 요청이 들어오고 나갈때 까지 유지되는 스코프이다.</li></ul><ul id="0373837b-e7b0-4392-a45b-590de0d5d646" class="bulleted-list"><li style="list-style-type:square"><strong>session</strong>: 웹 세션이 생성되고 종료될 때 까지 유지되는 스코프이다.</li></ul><ul id="27944bff-cad1-4d7c-94e0-129bfd170098" class="bulleted-list"><li style="list-style-type:square"><strong>application</strong>: 웹의 서블릿 컨텍스트와 같은 범위로 유지되는 스코프이다.</li></ul></li></ul></li></ul><ul id="c69a7c71-c624-41fe-abcb-f97db8596faf" class="bulleted-list"><li style="list-style-type:disc">Scope - Singleton<figure id="e692fbff-ea5c-4047-9b44-63f416d39d9d"><div class="source">https://github.com/ChanYoung-dev/SpringStartEx/commit/e390fafb1edae063a50525c494ad26ffbef3ee3c</div></figure></li></ul><p id="b120d64a-8915-48e2-927e-57f10213bf66" class="">
</p><p id="e128ae85-eef7-4e88-8547-505332eb0950" class="">
</p><ul id="a52094ef-7ced-42aa-bffb-0627efa06ed7" class="bulleted-list"><li style="list-style-type:disc"><strong>Scope - Prototype</strong><figure id="09f4130d-0629-4a9e-9a66-c42a73771da9"><div class="source">https://github.com/ChanYoung-dev/SpringStartEx/commit/63706948112faa1246b90778ed01715215639233</div></figure><ul id="b608c4b2-08d2-42fa-939a-d32dc61aea5e" class="bulleted-list"><li style="list-style-type:circle">Log</li></ul><pre id="bbfa1f2b-0ae4-4395-821f-13327569f9ed" class="code code-wrap"><code>find prototypeBean1
PrototypenBean.init
find prototypeBean2
PrototypenBean.init
PrototypeBean1 = hello.core.scope.PrototypeTest$PrototypeBean@60df60da
PrototypeBean2 = hello.core.scope.PrototypeTest$PrototypeBean@5a2d131d
PrototypeBean.destroy
PrototypeBean.destroy</code></pre><p id="adb70e58-ef8e-4714-84cd-f9738abc0506" class="">
</p><p id="3ef2cd34-4bbf-45e6-9df8-97680a30663d" class="">
</p></li></ul><ul id="ce17bd61-2014-4ac0-a901-b8fcc6d3aefa" class="bulleted-list"><li style="list-style-type:disc"><strong>Problems when using Prototype Bean with Singletone Bean</strong><figure id="c6cadcd9-d874-4403-ae9f-b650e74edc36"><div class="source">https://github.com/ChanYoung-dev/SpringStartEx/commit/d472ad1bbb581884005c3483b2be8c0bfb3c970e</div></figure><figure id="a6f2fdd1-3abd-4598-ab8b-ddd32035979f" class="image"><a href="Spring%20Annotation%20Bean%20LifeCycle%2078513cac3fff43b8b5f03a719ff67d51/Untitled.png"><img style="width:1038px" src="Spring%20Annotation%20Bean%20LifeCycle%2078513cac3fff43b8b5f03a719ff67d51/Untitled.png"/></a></figure><ul id="fb67ecdc-ac85-4ef7-a4de-f72d51e157f3" class="bulleted-list"><li style="list-style-type:circle">싱글톤 빈( <code>clientBean</code> ) &lt;- 프로토타입 빈( <code>prototpyeBean</code>) 주입관계</li></ul><ul id="c8721ef8-6c3c-43b2-8f76-f44b3b0bfcce" class="bulleted-list"><li style="list-style-type:circle">clientBean이 2개 생성하여 2개의 클라이언트일때 참조하는 prototypeBean은 같은 인스턴스이다. </li></ul><ul id="e7df7244-c15b-4376-9d78-5c411d77bb20" class="bulleted-list"><li style="list-style-type:circle">그러므로 <code>count</code>는 다른 client이어도 <code>count</code>는 같다. 즉, prototype의 역할을 하지않고 singleton역할이랑 같다.</li></ul><p id="61932b41-0cdc-4f49-b7da-9c63bdf5d362" class="">
</p></li></ul><ul id="af02f3b5-4500-488a-b473-645498ac94ef" class="bulleted-list"><li style="list-style-type:disc"><strong>Solution - ObjectFactory, ObjectProvider</strong><figure id="0fa12bae-e65c-4bc8-9071-e48e1cbca9db"><div class="source">https://github.com/ChanYoung-dev/SpringStartEx/commit/da15088f8fae45aba0320b6f1907e1efcce785c6</div></figure></li></ul><p id="fdde2763-6f8d-45d3-8264-1279ca63f9d2" class="">
</p><p id="932792d2-b81f-46ff-921d-37feb9f05a34" class="">
</p><p id="95b191ab-4d69-4aa3-b77e-3ee5b92210df" class="">
</p><ul id="60095e3c-e45e-4b01-946c-3bcafa4921b3" class="bulleted-list"><li style="list-style-type:disc"><strong>Solution - Provider</strong><figure id="df90141a-b9db-4b5d-9932-5e604c1fc6c0"><div class="source">https://github.com/ChanYoung-dev/SpringStartEx/commit/fc78844ff618166f0c16da44193b25d9ae08c837</div></figure></li></ul><p id="5d48a03f-f194-4ee1-b7ec-6b53e7b39119" class="">
</p><p id="46633ff6-94fc-468c-94dc-ce487e001146" class="">
</p><p id="dd23cd5e-128f-4b1c-9bbb-a3086da83f1a" class="">
</p><ul id="c8c9ce53-465a-4e07-81cd-d8d8954f38ca" class="bulleted-list"><li style="list-style-type:disc">Scope - Web<ul id="c1a89861-cb7a-44fa-b91a-d07d6c8be0b3" class="bulleted-list"><li style="list-style-type:circle">웹 스코프는 웹 환경에서만 동작한다.</li></ul><ul id="19d34c9c-bbe6-4e70-9626-6844dac24998" class="bulleted-list"><li style="list-style-type:circle">웹 스코프는 프로토타입과 다르게 스프링이 해당 스코프의 종료시점까지 관리한다. 따라서 종료 메서드가 호출된다.</li></ul><p id="cf795c22-2ee5-42d9-94ed-4e6f3e9a490e" class=""><strong>웹 스코프 종류</strong></p><ul id="7ee9b41a-d39e-42ee-93e3-74488d689da8" class="bulleted-list"><li style="list-style-type:circle"><strong>request: </strong>HTTP 요청 하나가 들어오고 나갈 때 까지 유지되는 스코프, 각각의 HTTP 요청마다 별도의 빈
인스턴스가 생성되고, 관리된다.</li></ul><ul id="b7221993-0577-4c2c-8093-a3b4c16a7e6d" class="bulleted-list"><li style="list-style-type:circle"><strong>session: </strong>HTTP Session과 동일한 생명주기를 가지는 스코프</li></ul><ul id="3ed69120-bbfc-4afb-9109-8d03b796eb38" class="bulleted-list"><li style="list-style-type:circle"><strong>application: </strong>ServletContext와 동일한 생명주기를 가지는 스코프</li></ul><ul id="236b84bc-eda9-43cc-8710-6bafa9cb7045" class="bulleted-list"><li style="list-style-type:circle"><strong>websocket: </strong>웹 소켓과 동일한 생명주기를 가지는 스코프</li></ul></li></ul><p id="487bcc86-625f-4763-8400-0e5e5cb09cec" class="">
</p><p id="3a4cdfe2-bb12-4846-9df4-3976be2672ff" class="">
</p><ul id="ecc62823-7ef2-4398-96eb-ef67264e652d" class="bulleted-list"><li style="list-style-type:disc">Problem) <strong>Web Scope - request</strong><figure id="ea32eb3e-1a12-435f-9679-09735199aec1"><div class="source">https://github.com/ChanYoung-dev/SpringStartEx/commit/88d20d6743c2442438cba315c80b5d5d3b88e437</div></figure><pre id="17d49551-4677-4623-8ff3-d79fd9d5e7f8" class="code code-wrap"><code>Caused by: java.lang.IllegalStateException: No thread-bound request found: ...</code></pre><p id="d12d0a56-6c38-49d5-b105-3180fe5bc2fe" class="">Error가 난다. 그 이유는 Build시 생성과 의존관계주입 할 때, 동시에 컨테이너가 request(http:~)를 받는데 Build시에는 request(http://~)가 없기때문이다.</p><p id="21c7706b-989c-45da-b10b-f2de316fb955" class="">해결방안은 의존관계 시점 뒤에서 request를 받아야한다. 바로 <code>ObjectProvider</code>를 이용하여 해결하면 된다.</p><p id="08faf640-9280-4f2a-8760-e0d2eaed384f" class="">
</p><p id="6eae86ed-c4ec-4e07-b795-c0382659a25e" class="">
</p><p id="8e942797-7cd1-411a-96b7-4ab9534d19bd" class="">
</p><p id="d1754835-e086-4e63-acec-61f2178ff917" class="">
</p><p id="4fa2cd0a-19b3-471c-a546-b2b54e5476ef" class="">
</p></li></ul><ul id="c1855689-1454-4b8e-938a-239ece42ab14" class="bulleted-list"><li style="list-style-type:disc">Solution1) <strong>Request Scope using ObjectProvider</strong><figure id="9acfd46c-bbad-4b02-8b57-52e78f70dec9"><div class="source">https://github.com/ChanYoung-dev/SpringStartEx/commit/9bdc64b01c865b6cf7875ef1b16e0b3bb2fede35</div></figure><p id="170675ed-a833-439d-b88c-8df3e587452a" class="">ObjectProvider를 이용하여 <code>LogDemon.class</code> 에서</p><pre id="e8cf5951-62b3-4957-bc75-0741f3459d64" class="code code-wrap"><code>private final ObjectProvider&lt;MyLogger&gt; myLoggerProvider;

@RequestMapping(&quot;log-demo&quot;)
    @ResponseBody
    public String logDemo(HttpServletRequest request){
        String requestURL = request.getRequestURL().toString();
        MyLogger myLogger = myLoggerProvider.getObject(); //request가 들어올때 Mylogger클래스가 생성된다
        myLogger.setRequestURL(requestURL);

        myLogger.log(&quot;controller test&quot;);
        logDemoService.logic(&quot;testId&quot;);
        return &quot;OK&quot;;
    }</code></pre><p id="61f7a4a0-0120-4388-ad37-78ad8921e343" class="">여기서 request요청이 들어올때만 <code>mylogger</code>를 통해 MyLogger 클래스가 생성된다.</p><p id="cca816d0-d965-4b84-87ce-d4ce32323503" class="">
</p></li></ul><ul id="4c38e539-6dc7-401d-9e15-23359938e0c6" class="bulleted-list"><li style="list-style-type:disc">Solution2) <strong>Request Scope using Proxy</strong><figure id="5c23700d-1233-42c3-95d6-08098a792eac"><a href="https://github.com/ChanYoung-dev/SpringStartEx/commit/b9eb75b173e15066a52b81f51d808654baf57524" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Request Scope using Proxy · ChanYoung-dev/SpringStartEx@b9eb75b</div><div class="bookmark-description">Contribute to ChanYoung-dev/SpringStartEx development by creating an account on GitHub.</div></div><div class="bookmark-href"><img src="https://github.com/favicon.ico" class="icon bookmark-icon"/>https://github.com/ChanYoung-dev/SpringStartEx/commit/b9eb75b173e15066a52b81f51d808654baf57524</div></div><img src="https://opengraph.githubassets.com/818a7e65607ff0ce51e699a22c9b1ac7bf9bdd117e317661a47ac58edec9a5c8/ChanYoung-dev/SpringStartEx/commit/b9eb75b173e15066a52b81f51d808654baf57524" class="bookmark-image"/></a></figure><p id="d2301ecd-6bba-4b91-aa06-641e09d513d5" class=""><a href="https://github.com/ChanYoung-dev/SpringStartEx/commit/b9eb75b173e15066a52b81f51d808654baf57524">https://github.com/ChanYoung-dev/SpringStartEx/commit/b9eb75b173e15066a52b81f51d808654baf57524</a></p><pre id="038855ea-ffa2-448b-bbe9-e651efceb04e" class="code code-wrap"><code>System.out.println(&quot;myLogger = &quot; + myLogger.getClass()); //가짜 myLogger
myLogger.setRequestURL(requestURL); // 진짜 myLogger호출</code></pre><p id="dcf0d62b-c1fa-4ed7-ac40-c9bef5169fbb" class=""><strong>가짜 프록시 객체는 요청이 오면 그때 내부에서 진짜 빈을 요청하는 위임 로직이 들어있다.</strong></p><ul id="c0b79000-2c75-4b56-b2c5-bdec27401efc" class="bulleted-list"><li style="list-style-type:circle">가짜 프록시 객체는 내부에 진짜 <code>myLogger</code>를 찾는 방법을 알고 있다.</li></ul><ul id="a9a894d9-6e8f-49ec-b071-a4090164fa66" class="bulleted-list"><li style="list-style-type:circle">클라이언트가 <code>myLogger.logic()</code> 을 호출하면 사실은 가짜 프록시 객체의 method를 호출한 것이다.</li></ul><ul id="b463e98e-806c-4478-a00d-2b1d94a92e11" class="bulleted-list"><li style="list-style-type:circle">가짜 프록시 객체는 request 스코프의 진짜<code>myLogger.logic()</code> 를 호출한다.</li></ul><ul id="b94bb5ab-06e3-4f11-902b-761f76c3d521" class="bulleted-list"><li style="list-style-type:circle">가짜 프록시 객체는 원본 클래스를 상속 받아서 만들어졌기 때문에 이 객체를 사용하는 클라이언트입장에서는 사실 원본인지 아닌지도 모르게, 동일하게 사용할 수 있다(다형성)</li></ul><p id="2be71155-97d3-4e81-ace0-587d2d9a092c" class=""><strong>동작 정리</strong></p><ul id="f2eca824-7631-4f9d-a79b-7ecb7041a969" class="bulleted-list"><li style="list-style-type:circle"><code>CGLIB</code>라는 라이브러리로 내 클래스를 상속 받은 가짜 프록시 객체를 만들어서 주입한다.</li></ul><ul id="215a6958-5ae7-455b-a706-47fdc2e34dc0" class="bulleted-list"><li style="list-style-type:circle">이 가짜 프록시 객체는 실제 요청이 오면 그때 내부에서 실제 빈을 요청하는 위임 로직이 들어있다.</li></ul><ul id="4d036b22-bcc6-4927-9bc5-70b172ae72ed" class="bulleted-list"><li style="list-style-type:circle">가짜 프록시 객체는 실제 request scope와는 관계가 없다. 그냥 가짜이고, 내부에 단순한 위임 로직만 있고, 싱글톤 처럼 동작한다.</li></ul><p id="86bf5308-5746-4560-809c-14d9a1d0755c" class=""><strong>Provider, 프록시는 진짜 객체 조회를 꼭 필요한 시점까지 지연처리 한다</strong> !</p><p id="4e779ab2-6a50-4e44-869d-4f9046740e92" class="">
</p></li></ul></div></article></body></html>